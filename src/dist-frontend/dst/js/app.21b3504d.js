(function(e){function t(t){for(var a,i,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,s=1;s<r.length;s++){var l=r[s];0!==o[l]&&(a=!1)}a&&(n.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},o={app:0},n=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"1f3b":function(e,t,r){e.exports=r.p+"img/lablogin.e3ebb3a6.png"},"285a":function(e,t,r){},"2bc1":function(e,t,r){e.exports=r.p+"img/resultadovirtual.23e26ee2.png"},3002:function(e,t,r){"use strict";r("285a")},"3eff":function(e,t,r){"use strict";r("5558")},4280:function(e,t,r){e.exports=r.p+"img/diagnostico.a74ec027.png"},4678:function(e,t,r){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=n(e);return r(t)}function n(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=n,e.exports=o,o.id="4678"},5558:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=(r("caad"),r("2532"),r("2f62"));a["default"].use(o["a"]);var n=new o["a"].Store({state:{permisos:localStorage.getItem("permisos")||null,rol:localStorage.getItem("rol")||null},mutations:{setPermisos:function(e,t){e.permisos=t,localStorage.setItem("permisos",JSON.stringify(t))},setRol:function(e,t){e.rol=t,localStorage.setItem("rol",JSON.stringify(t))},clearToken:function(e){e.token=null,localStorage.removeItem("credenciales"),localStorage.removeItem("permisos"),localStorage.removeItem("rol")}},getters:{hasPermisos:function(e){return function(t){return null!=e.permisos&&JSON.parse(e.permisos.includes(t))}},hasRol:function(e){return function(t){return null!=e.rol&&JSON.parse(e.rol.includes(t))}}},actions:{LOGOUT_REQUEST:function(e){var t=e.commit;t("clearToken")}}}),i=(r("b0c0"),r("8c4f")),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"wrapper"},[r("Menu"),r("router-view")],1),r("footer",[r("b-navbar",{staticClass:"navbar"})],1)])},l=[],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.loading?r("div",[r("b-spinner")],1):r("div",[r("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[r("b-navbar-brand",[e._v("Home")]),r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-navbar-nav",[r("b-collapse",{staticClass:"ml-auto",attrs:{id:"nav-collapse","is-nav":""}},[e.hasPermisos("add_paciente")?r("b-nav-item-dropdown",{attrs:{text:"Pacientes",right:""}},[e.hasPermisos("view_paciente")?r("b-dropdown-item",{attrs:{to:{name:"listaPacientes"}}},[e._v("Listar")]):e._e(),e.hasPermisos("add_paciente")?r("b-dropdown-item",{attrs:{to:{name:"paciente"}}},[e._v("nuevo")]):e._e()],1):e._e(),e.hasPermisos("view_empleado")?r("b-nav-item-dropdown",{attrs:{text:"Empleados",right:""}},[e.hasPermisos("view_empleado")?r("b-dropdown-item",{attrs:{to:{name:"listaEmpleado"}}},[e._v("Listar")]):e._e(),e.hasPermisos("add_empleado")?r("b-dropdown-item",{attrs:{to:{name:"empleado"}}},[e._v("nuevo")]):e._e()],1):e._e(),e.hasPermisos("add_obrasocial")?r("b-nav-item-dropdown",{attrs:{text:"Obra  Social",right:""}},[e.hasPermisos("view_obrasocial")?r("b-dropdown-item",{attrs:{to:{name:"listaObrasSociales"}}},[e._v("Listar")]):e._e(),e.hasPermisos("add_obrasocial")?r("b-dropdown-item",{attrs:{to:{name:"obraSocial"}}},[e._v("nuevo")]):e._e()],1):e._e(),e.hasPermisos("change_templateconsentimiento")?r("b-nav-item",{attrs:{to:{name:"editarTemplateConsentimiento"},right:""}},[e._v("Template Consentimiento")]):e._e(),e.hasPermisos("view_configuracion")?r("b-nav-item",{attrs:{to:{name:"editarModoDeTrabajo"},right:""}},[e._v("Modo de Trabajo")]):e._e(),e.hasPermisos("add_configurador")?r("b-nav-item-dropdown",{attrs:{text:"Configurador",right:""}},[e.hasPermisos("view_configurador")?r("b-dropdown-item",{attrs:{to:{name:"listaConfiguradores"}}},[e._v("Listar")]):e._e(),e.hasPermisos("add_configurador")?r("b-dropdown-item",{attrs:{to:{name:"configuradores"}}},[e._v("nuevo")]):e._e()],1):e._e(),e.hasPermisos("add_medicoinformante")?r("b-nav-item-dropdown",{attrs:{text:"Medicos informantes",right:""}},[e.hasPermisos("view_medicoinformante")?r("b-dropdown-item",{attrs:{to:{name:"listaMedicoInformante"}}},[e._v("Listar")]):e._e(),e.hasPermisos("add_medicoinformante")?r("b-dropdown-item",{attrs:{to:{name:"medicoInformante"}}},[e._v("nuevo")]):e._e()],1):e._e(),e.hasPermisos("view_medicoderivante")?r("b-nav-item-dropdown",{attrs:{text:"Medicos derivantes",right:""}},[e.hasPermisos("view_medicoderivante")?r("b-dropdown-item",{attrs:{to:{name:"listaDerivante"}}},[e._v("Listar")]):e._e(),e.hasPermisos("add_medicoderivante")?r("b-dropdown-item",{attrs:{to:{name:"medicoDerivante"}}},[e._v("nuevo")]):e._e()],1):e._e(),e.hasPermisos("view_esperandointerpretacionderesultados")?r("b-nav-item-dropdown",{attrs:{text:"Resultados Informe",right:""}},[e.hasPermisos("view_esperandointerpretacionderesultados")?r("b-dropdown-item",{attrs:{to:{name:"listaEstudiosEsperandoInforme"}}},[e._v("Listar")]):e._e()],1):e._e(),e.hasPermisos("view_estudio")&&e.hasRol("Empleados")?r("b-nav-item-dropdown",{attrs:{text:"Estudios",right:""}},[e.hasPermisos("view_estudio")?r("b-dropdown-item",{attrs:{to:{name:"listaEstudios"}}},[e._v("Listar")]):e._e(),e.hasPermisos("add_estudio")?r("b-dropdown-item",{attrs:{to:{name:"nuevoEstudio"}}},[e._v("Nuevo")]):e._e()],1):e._e(),e.hasPermisos("view_estudio")&&e.hasRol("Pacientes")?r("b-nav-item-dropdown",{attrs:{text:"Mis estudios",right:""}},[e.hasPermisos("view_estudio")&&e.hasRol("Pacientes")?r("b-dropdown-item",{attrs:{to:{name:"listaEstudios"}}},[e._v("Listar")]):e._e()],1):e._e(),e.hasPermisos("view_lote")?r("b-nav-item-dropdown",{attrs:{text:"Lotes",right:""}},[e.hasPermisos("view_lote")?r("b-dropdown-item",{attrs:{to:{name:"cargarResultadoLote"}}},[e._v("Listar")]):e._e(),e.hasPermisos("add_lote")?r("b-dropdown-item",{attrs:{to:{name:"crearLote"}}},[e._v("Nuevo")]):e._e()],1):e._e(),e.hasPermisos("view_turnoconfirmado")?r("b-nav-item-dropdown",{attrs:{text:"Turnos ocupados",right:""}},[e.hasPermisos("view_turnoconfirmado")?r("b-dropdown-item",{attrs:{to:{name:"turnosOcupados"}}},[e._v("Listar")]):e._e()],1):e._e(),e.hasRol("Empleados")?r("b-nav-item",{attrs:{to:{name:"estadisticas"}}},[e._v("Estadisticas")]):e._e(),e.hasPermisos("add_liquidacion")?r("b-nav-item-dropdown",{attrs:{text:"Liquidaciones",right:""}},[e.hasPermisos("add_liquidacion")?r("b-dropdown-item",{attrs:{to:{name:"liquidacionesEstudios"}}},[e._v("Nueva")]):e._e(),r("b-dropdown-item",{attrs:{to:{name:"liquidadoesEstudios"}}},[e._v("Liquidados")])],1):e._e(),e.hasPermisos("change_parametrodeturnos")?r("b-nav-item-dropdown",{attrs:{text:"Turnos "}},[e.hasPermisos("change_parametrodeturnos")?r("b-dropdown-item",{attrs:{to:{name:"configurarFechasSinTurnos"}}},[e._v("Configurar turnos")]):e._e(),e.hasPermisos("change_configuracion")?r("b-dropdown-item",{attrs:{to:{name:"configurarTurnos"}}},[e._v("Configurar rango fechas")]):e._e(),e.hasPermisos("change_configuracion")?r("b-dropdown-item",{attrs:{to:{name:"verRangosTurnos"}}},[e._v("Listado de rango fechas")]):e._e()],1):e._e(),e._v(" - "),r("b-nav-item",{attrs:{right:""},on:{click:function(t){return e.cerarrSesion()}}},[e._v("Cerrar sesion")])],1)],1)],1),r("br")],1)])},u=[],d=r("5530"),p={components:{},props:{},data:function(){return{loading:!1}},computed:Object(d["a"])({},Object(o["c"])(["hasPermisos","hasRol"])),methods:Object(d["a"])(Object(d["a"])({},Object(o["b"])(["LOGOUT_REQUEST"])),{},{cerarrSesion:function(){var e=this;this.LOGOUT_REQUEST().then((function(){e.$router.push({name:"Login"}).catch({})})),location.reload()}}),mounted:function(){}},m=p,b=r("2877"),f=Object(b["a"])(m,c,u,!1,null,null,null),v=f.exports,g={name:"Container",components:{Menu:v},data:function(){return{}},props:{},methods:{}},h=g,_=(r("3002"),Object(b["a"])(h,s,l,!1,null,null,null)),k=_.exports,x=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},w=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("img",{staticClass:"rounded",staticStyle:{width:"70%"},attrs:{src:r("fb04"),alt:"...",id:"imgLaboratorio",width:"50%"}})])])}],y={},E=y,P=Object(b["a"])(E,x,w,!1,null,null,null),R=P.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contenedor1"},[a("br"),a("div",{staticClass:"wrapper1"},[a("b-row",{staticClass:"h-100 justify-content-center align-items-center"},[a("b-col",{attrs:{id:"columnaImgLogin",cols:"7"}},[a("div",[a("img",{staticClass:"rounded",attrs:{src:r("1f3b"),alt:"...",id:"imgLaboratorio"}})])]),a("b-col",{staticClass:"base-box m-2",attrs:{sm:"10",md:"8",xl:"4"}},[a("div",{},[a("div",{staticClass:"text-center"},[a("p",[e._v("¡Hola! Ingresá tu usuario y contraseña")])]),a("div",{staticClass:"text-center"},[a("p",{staticClass:"title h3 mt-2 text-center"},[e._v("Iniciar Sesion")])]),a("hr"),e.userIncorrecto?a("b-alert",{attrs:{show:"",variant:"danger"}},[e._v("Usuario o contraseña incorrectos,por favor vuelva a ingresar los datos")]):e._e(),e.error?a("b-alert",{attrs:{show:"",variant:"danger"}},[e._v(e._s(e.error))]):e._e(),a("b-form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[a("b-form-group",{attrs:{id:"input-group-1"}},[a("b-form-input",{staticClass:"line",attrs:{id:"usuario",type:"text",autocomplete:"username",required:"",placeholder:"Usuario"},model:{value:e.credenciales.usuario,callback:function(t){e.$set(e.credenciales,"usuario",t)},expression:"credenciales.usuario"}})],1),a("b-form-group",{attrs:{id:"input-group-2"}},[a("b-form-input",{staticClass:"line",attrs:{id:"password",type:"password",required:"",autocomplete:"current-password",placeholder:"Ingresa la contraseña"},model:{value:e.credenciales.clave,callback:function(t){e.$set(e.credenciales,"clave",t)},expression:"credenciales.clave"}})],1),a("hr"),a("b-form-group",{staticClass:"text-center"},[e.ingresar?a("b-button",{attrs:{type:"submit",block:"",variant:"primary"}},[e._v("Ingresar ")]):e._e(),e.ingresar?e._e():a("div",{staticClass:"text-center"},[a("b-spinner",{attrs:{variant:"primary",label:"Text Centered"}})],1)],1),a("b-form-group",{staticClass:"text-center"},[a("b-button",{attrs:{block:"",variant:"outline-info"},on:{click:function(t){return e.$router.push("registrar")}}},[e._v("Crear cuenta ")])],1),a("div",{staticClass:"text-center"})],1)],1)])],1)],1)])},$=[],O=r("1da1"),S=(r("96cf"),r("bc3a")),C=r.n(S),D=function(){var e=I.getApiToken(),t=C.a.create({baseURL:"http://ttps-grupo07.dyndns.org:8000",headers:{},auth:{username:e.usuario,password:e.clave}});return t},T="/login_api/",I={login:function(e,t){return window.localStorage.setItem("credenciales",JSON.stringify({usuario:e,clave:t})),D().get(T+"login/",{params:{username:e,password:t}})},cambiarClave:function(e){return D().post(T+"clave/",e)},getApiToken:function(){var e=JSON.parse(window.localStorage.getItem("credenciales"));return e},login_api:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(void 0!=window.localStorage.getItem("credenciales")){r.next=8;break}return a=C.a.create({baseURL:"http://ttps-grupo07.dyndns.org:8000",auth:{username:e,password:t}}),r.next=4,a.get(T+"login/");case 4:return o=r.sent,window.localStorage.setItem("credenciales",JSON.stringify({usuario:e,clave:t})),window.localStorage.setItem("permisos",o.data.roles),r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()},cerrarSesion:function(){window.localStorage.removeItem("credenciales")}},A={name:"Login",props:{},data:function(){return{userIncorrecto:!1,ingresar:!0,credenciales:{usuario:"",clave:""},error:""}},created:function(){},methods:Object(d["a"])(Object(d["a"])({},Object(o["d"])(["setRol","setPermisos"])),{},{home:function(){this.$router.push("/")},login:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.login_api(e.credenciales.usuario,e.credenciales.clave);case 3:if(r=t.sent,!r.data.cambiar_clave){t.next=7;break}return e.$router.push({name:"cambiarClave"}),t.abrupt("return");case 7:e.setPermisos(r.data.permisos),e.setRol(r.data.roles),e.$router.push({name:"home"}),t.next=17;break;case 12:t.prev=12,t.t0=t["catch"](0),e.userIncorrecto=!0,console.log("catch"),console.log(t.t0.detail);case 17:case"end":return t.stop()}}),t,null,[[0,12]])})))()}})},q=A,F=(r("e19b"),Object(b["a"])(q,j,$,!1,null,"394daf07",null)),L=F.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bv-example-row"},[a("br"),a("br"),a("div",[a("b-row",[a("br"),a("b-col",{attrs:{id:"columnaImg",cols:"5"}},[a("div",[a("img",{staticClass:"rounded",attrs:{src:r("c259"),alt:"...",id:"imgLaboratorio"}})])]),a("b-col",[e.show?a("b-form",{staticClass:"form",attrs:{action:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[a("hr"),a("p",{staticClass:"title mt-2",attrs:{id:"textoRegistro"}},[a("b",[e._v(" Completa los datos para registrarte")]),a("br"),a("small",[e._v(" Recorda que si sos menor tendras un tutor a cargo")]),this.showCreated?a("b-alert",{attrs:{show:"",variant:"success"}},[e._v("Su usuario se creo con exito, recorda que te enviamos un email con los datos para poder ingresar en el sistema")]):e._e(),this.showError?a("b-alert",{attrs:{show:"",variant:"danger"}},[e._v(e._s(this.error))]):e._e()],1),a("br"),a("b-row",[a("b-col",{attrs:{lg:"6"}},[a("b-form-group",{attrs:{id:"input-group-1",label:"Nombre :","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"nombre-1",type:"text",placeholder:"Ingrese Nombre ",required:""},model:{value:e.usuario.nombre,callback:function(t){e.$set(e.usuario,"nombre",t)},expression:"usuario.nombre"}})],1)],1),a("b-col",{attrs:{lg:"6"}},[a("b-form-group",{attrs:{id:"input-group-2",label:"Apellido:","label-for":"input-2"}},[a("b-form-input",{attrs:{id:"apellido-2",placeholder:"Ingrese apellido",required:""},model:{value:e.usuario.apellido,callback:function(t){e.$set(e.usuario,"apellido",t)},expression:"usuario.apellido"}})],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"4"}},[a("b-form-group",{attrs:{id:"input-group-n",label:"Fecha de Nacimiento:","label-for":"input-n"}},[a("b-form-input",{attrs:{id:"nacimiento-n",required:"",type:"date"},on:{click:function(t){return e.esMayor()}},model:{value:e.usuario.fecha_nacimiento,callback:function(t){e.$set(e.usuario,"fecha_nacimiento",t)},expression:"usuario.fecha_nacimiento"}})],1)],1),a("b-col",{attrs:{lg:"4"}},[a("b-form-group",{attrs:{id:"input-group-n",label:"DNI:","label-for":"input-n"}},[a("b-form-input",{attrs:{type:"number",required:"",placeholder:"Ingrese el numero de dni"},model:{value:e.usuario.dni,callback:function(t){e.$set(e.usuario,"dni",t)},expression:"usuario.dni"}})],1)],1)],1),e.esMayor()?a("div",[a("b-row",[a("b-col",{attrs:{lg:"4"}},[a("b-form-group",{attrs:{id:"input-group-2",label:"Numero de Telefono:","label-for":"input-2"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingrese Telefono",required:""},model:{value:e.usuario.telefono,callback:function(t){e.$set(e.usuario,"telefono",t)},expression:"usuario.telefono"}})],1)],1),a("b-col",{attrs:{lg:"4"}},[a("b-form-group",{attrs:{id:"input-group-2",label:"Direccion de Email:","label-for":"input-2"}},[a("b-form-input",{attrs:{placeholder:"Ingrese Email",required:"",type:"email"},model:{value:e.usuario.email,callback:function(t){e.$set(e.usuario,"email",t)},expression:"usuario.email"}})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{id:"input-group-2",label:"Calle:","label-for":"input-2"}},[a("b-form-input",{attrs:{placeholder:"Ingrese Calle",required:""},model:{value:e.usuario.calle,callback:function(t){e.$set(e.usuario,"calle",t)},expression:"usuario.calle"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{id:"input-group-2",label:"Numero:","label-for":"input-2"}},[a("b-form-input",{attrs:{placeholder:"Ingrese numero",required:""},model:{value:e.usuario.numero,callback:function(t){e.$set(e.usuario,"numero",t)},expression:"usuario.numero"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{id:"input-group-2",label:"Piso:","label-for":"input-2"}},[a("b-form-input",{attrs:{placeholder:"Ingrese Piso",required:""},model:{value:e.usuario.piso,callback:function(t){e.$set(e.usuario,"piso",t)},expression:"usuario.piso"}})],1)],1)],1)],1):a("div",{staticClass:"rounded"},[a("h6",[a("b",[e._v(" Datos del tutor ")])]),a("hr"),a("br"),a("b-row",[a("br"),a("b-col",{attrs:{lg:"6"}},[a("b-form-group",{attrs:{label:"Nombre del tutor :"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Ingrese Nombre del tutor",required:""},model:{value:e.tutor.tutor.nombre,callback:function(t){e.$set(e.tutor.tutor,"nombre",t)},expression:"tutor.tutor.nombre"}})],1)],1),a("b-col",{attrs:{lg:"6"}},[a("b-form-group",{attrs:{id:"input-group-2",label:"Apellido del tutor :","label-for":"input-2"}},[a("b-form-input",{attrs:{placeholder:"Ingrese apellido del tutor",required:""},model:{value:e.tutor.tutor.apellido,callback:function(t){e.$set(e.tutor.tutor,"apellido",t)},expression:"tutor.tutor.apellido"}})],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"4"}},[a("b-form-group",{attrs:{id:"input-group-2",label:"Telefono del tutor:","label-for":"input-2"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingrese Telefono del tutor",required:""},model:{value:e.tutor.tutor.telefono,callback:function(t){e.$set(e.tutor.tutor,"telefono",t)},expression:"tutor.tutor.telefono"}})],1)],1),a("b-col",{attrs:{lg:"4"}},[a("b-form-group",{attrs:{id:"input-group-2",label:"Email del tutor:","label-for":"input-2"}},[a("b-form-input",{attrs:{placeholder:"Ingrese Email del tutor",required:"",type:"email"},model:{value:e.tutor.tutor.email,callback:function(t){e.$set(e.tutor.tutor,"email",t)},expression:"tutor.tutor.email"}})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{id:"input-group-2",label:"Calle:","label-for":"input-2"}},[a("b-form-input",{attrs:{placeholder:"Ingrese Calle",required:""},model:{value:e.tutor.tutor.calle,callback:function(t){e.$set(e.tutor.tutor,"calle",t)},expression:"tutor.tutor.calle"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{id:"input-group-2",label:"Numero:","label-for":"input-2"}},[a("b-form-input",{attrs:{placeholder:"Ingrese numero",required:"",type:"number"},model:{value:e.tutor.tutor.numero,callback:function(t){e.$set(e.tutor.tutor,"numero",t)},expression:"tutor.tutor.numero"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{id:"input-group-2",label:"Piso:","label-for":"input-2"}},[a("b-form-input",{attrs:{placeholder:"Ingrese Piso",required:"",type:"number"},model:{value:e.tutor.tutor.piso,callback:function(t){e.$set(e.tutor.tutor,"piso",t)},expression:"tutor.tutor.piso"}})],1)],1)],1)],1),a("div",[a("b-row",{staticClass:"pb-2"},[a("b-col",{staticClass:"text-center pt-3"},[a("b-button",{staticStyle:{width:"250px"},attrs:{type:"submit",variant:"outline-primary"}},[e._v("Crear")])],1)],1),a("b-col",{staticClass:"text-left"},[a("router-link",{attrs:{to:"/login"}},[a("b-icon",{attrs:{icon:"arrow-left-circle"}})],1)],1)],1)],1):e._e()],1),a("b-col",{attrs:{cols:"2"}})],1)],1)])},N=[],z="",V="/personas_api/",U={registrarPaciente:function(e){return C.a.post("http://ttps-grupo07.dyndns.org:8000"+V+"registro/",e)},obtenerMedicosInformantes:function(){return D().get(V+z+"medicos_informantes/")},deleteMedicosInformantes:function(e){return D().delete(V+z+"medicos_informantes/"+e.id)},crearMedicoInformante:function(e){return D().post(V+z+"medicos_informantes/",e)},editarMedicoInformante:function(e){return D().put(V+"medicos_informantes/"+e.id+"/",e)},obtenerMedicosDerivantes:function(){return D().get(V+z+"medicos_derivantes/")},deleteMedicosDerivantes:function(e){return D().delete(V+z+"medicos_derivantes/"+e.id)},editarDerivante:function(e){return D().put(V+"medicos_derivantes/"+e.id+"/",e)},crearMedicoDerivante:function(e){return D().post(V+z+"medicos_derivantes/",e)},obtenerEmpleados:function(){return D().get(V+z+"empleados/")},crearEmpleado:function(e){return D().post(V+z+"empleados/",e)},deleteEmpleado:function(e){return D().delete(V+z+"empleados/"+e.id)},editarEmpleado:function(e){return D().put(V+"empleados/"+e.id+"/",e)},crearConfigurador:function(e){return D().post(V+z+"configuradores/",e)},obtenerConfiguradores:function(){return D().get(V+z+"configuradores/")},borrarConfigurador:function(e){return D().delete(V+z+"configuradores/"+e.id)},editarConfigurador:function(e){return D().put(V+z+"configuradores/"+e.id+"/",e)},obtenerConfigurador:function(e){return D().get(V+z+"configuradores/"+e)},crearPaciente:function(e){return D().post(V+z+"pacientes/",e)},obtenerPacientes:function(){return D().get(V+z+"pacientes/")},borrarPaciente:function(e){return D().delete(V+z+"pacientes/"+e.id)},editarPaciente:function(e,t){return D().put(V+z+"pacientes/"+e+"/",t)},obtenerPaciente:function(e){return D().get(V+z+"pacientes/"+e)}},B={components:{},props:{},data:function(){return{show:!0,showCreated:!1,showError:!1,error:null,usuario:{nombre:null,apellido:null,dni:null,email:null,telefono:null,calle:null,numero:null,piso:null,direccion:null,fecha_nacimiento:(new Date).format("dd-mm-yyyy")},tutor:{tutor:{nombre:null,apellido:null,email:null,telefono:null,direccion:null}}}},methods:{esMayor:function(){var e=new Date,t=new Date(this.usuario.fecha_nacimiento),r=e.getFullYear()-t.getFullYear(),a=e.getMonth()-t.getMonth();return(a<0||0===a&&e.getDate()<t.getDate())&&r--,r>17},onSubmit:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.armarDireccion(),r=e.armarArray(),console.log(r),t.next=6,U.registrarPaciente(r);case 6:a=t.sent,console.log(a),201==a.status&&(e.showCreated=!0,e.limpiarCampos()),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),e.showError=!0,e.error=t.t0.response.data.dni[0];case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},armarDireccion:function(){this.usuario.direccion=this.usuario.calle+" "+this.usuario.numero+" "+this.usuario.piso},armarDireccionTutor:function(e,t,r){return e+" "+t+" "+r},armarArray:function(){if(this.esMayor())return this.usuario;var e={};return e={nombre:this.usuario.nombre,apellido:this.usuario.apellido,dni:this.usuario.dni,fecha_nacimiento:this.usuario.fecha_nacimiento,tutor:{tutor:{nombre:this.tutor.tutor.nombre,apellido:this.tutor.tutor.apellido,email:this.tutor.tutor.email,telefono:this.tutor.tutor.telefono,calle:this.tutor.tutor.calle,numero:this.tutor.tutor.numero,piso:this.tutor.tutor.piso,direccion:this.armarDireccionTutor(this.tutor.tutor.calle,this.tutor.tutor.numero,this.tutor.tutor.piso)}}},e},limpiarCampos:function(){this.usuario.nombre=null,this.usuario.apellido=null,this.usuario.dni=null,this.usuario.email=null,this.usuario.telefono=null,this.usuario.calle=null,this.usuario.numero=null,this.usuario.piso=null,this.usuario.direccion=null,this.usuario.fecha_nacimiento=(new Date).format("dd-mm-yyyy"),this.tutor.tutor.nombre=null,this.tutor.tutor.apellido=null,this.tutor.tutor.email=null,this.tutor.tutor.telefono=null,this.tutor.tutor.direccion=null}},computed:{},mounted:function(){}},H=B,Y=(r("587e"),Object(b["a"])(H,M,N,!1,null,null,null)),J=Y.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contenedor1"},[a("br"),a("div",{staticClass:"wrapper1"},[a("b-row",{staticClass:"h-100 justify-content-center align-items-center"},[a("b-col",{attrs:{id:"columnaImgLogin",cols:"7"}},[a("div",[a("img",{staticClass:"rounded",attrs:{src:r("1f3b"),alt:"...",id:"imgLaboratorio"}})])]),a("b-col",{staticClass:"base-box m-2",attrs:{sm:"10",md:"8",xl:"4"}},[a("div",{},[a("div",{staticClass:"text-center"},[a("p",[e._v(" ¡Bienvenido!Para mayor proteccion deberas cambiar la contraseña por una nueva ")]),a("p",{staticClass:"title mt-2",attrs:{id:"textoRegistro"}},[this.show?a("b-alert",{attrs:{show:"",variant:"danger"}},[e._v(e._s(this.message))]):e._e()],1)]),a("div",{staticClass:"text-center"},[a("p",{staticClass:"title h3 mt-2 text-center"},[e._v("Cambiar contraseña")])]),a("hr"),a("b-form",{on:{submit:function(t){return t.preventDefault(),e.cambiarClave.apply(null,arguments)}}},[a("b-form-group",{attrs:{id:"input-group-1"}},[a("b-form-input",{staticClass:"line",attrs:{id:"claveAnterior",type:"password",autocomplete:"username",required:"",placeholder:"Ingrese contraseña anterior"},model:{value:e.claveAnterior,callback:function(t){e.claveAnterior=t},expression:"claveAnterior"}})],1),a("b-form-group",{attrs:{id:"input-group-1"}},[a("b-form-input",{staticClass:"line",attrs:{id:"usuario",type:"password",autocomplete:"username",required:"",placeholder:"Ingrese contraseña"},model:{value:e.clave,callback:function(t){e.clave=t},expression:"clave"}})],1),a("hr"),a("b-form-group",{staticClass:"text-center"},[a("b-button",{attrs:{type:"submit",block:"",variant:"primary"}},[e._v("Cambiar contraseña ")])],1),a("div",{staticClass:"text-center"})],1)],1)])],1)],1)])},G=[],Q={data:function(){return{clave:null,claveAnterior:null,show:!1,message:null}},methods:{cambiarClave:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={clave_anterior:e.claveAnterior,clave_nueva:e.clave},t.next=4,I.cambiarClave(r);case 4:window.localStorage.removeItem("credenciales"),e.$router.push({name:"Login"}),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),e.show=!0,e.message=t.t0.response.data[0];case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}},X=Q,K=Object(b["a"])(X,Z,G,!1,null,null,null),W=K.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[e.loading?r("div",[r("b-spinner")],1):r("div",[r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("p",{staticClass:"h3 text-center"},[r("strong",[e._v(" Paciente")])])])],1),r("b-card",{attrs:{header:"Datos personales"}},[this.showError?r("b-alert",{attrs:{show:"",variant:"danger"}},[e._v(e._s(this.error))]):e._e(),r("ValidationObserver",{ref:"detailsPaciente"},[r("b-form-group",e._l(e.alerts,(function(t){return r("b-alert",{key:t.key,attrs:{dismissible:"",show:"",variant:t.variant}},[e._v(e._s(t.message))])})),1),r("b-row",[r("b-col",{attrs:{lg:"6",md:"6"}},[r("b-form-group",{attrs:{id:"Nombre-label",label:"Nombre :","label-for":"Nombre"}},[r("ValidationProvider",{attrs:{name:"Nombre ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"Nombre del paciente",state:!a[0]&&(!!o||null)},model:{value:e.paciente.nombre,callback:function(t){e.$set(e.paciente,"nombre",t)},expression:"paciente.nombre"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"6",md:"6",sm:"10"}},[r("b-form-group",{attrs:{id:"Apellido-label",label:"Apellido :","label-for":"Apellido"}},[r("ValidationProvider",{attrs:{name:"Apellido ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"Apellido del paciente",state:!a[0]&&(!!o||null)},model:{value:e.paciente.apellido,callback:function(t){e.$set(e.paciente,"apellido",t)},expression:"paciente.apellido"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"4",md:"4"}},[r("b-form-group",{attrs:{id:"dni-label",label:"DNI:","label-for":"DNI"}},[r("ValidationProvider",{attrs:{name:"DNI ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{type:"number",placeholder:"DNI",state:!a[0]&&(!!o||null)},model:{value:e.paciente.dni,callback:function(t){e.$set(e.paciente,"dni",t)},expression:"paciente.dni"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"3",md:"2"}},[r("b-form-group",{attrs:{id:"nacimiento-label",label:"Fecha Nacimiento :","label-for":"Fecha Nacimiento"}},[r("ValidationProvider",{attrs:{name:"Fecha-Nacimiento ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{id:"nacimiento-n",required:"",state:!a[0]&&(!!o||null),type:"date"},on:{click:function(t){return e.esMayor()}},model:{value:e.paciente.fecha_nacimiento,callback:function(t){e.$set(e.paciente,"fecha_nacimiento",t)},expression:"paciente.fecha_nacimiento"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1),e.esMayor()?r("div",[r("b-row",[r("b-col",{attrs:{lg:"4"}},[r("b-form-group",{attrs:{id:"input-group-2",label:"Numero de Telefono:","label-for":"input-2"}},[r("b-form-input",{attrs:{type:"text",placeholder:"Ingrese Telefono",required:""},model:{value:e.paciente.telefono,callback:function(t){e.$set(e.paciente,"telefono",t)},expression:"paciente.telefono"}})],1)],1),r("b-col",{attrs:{lg:"4",md:"4"}},[r("b-form-group",{attrs:{id:"input-group-2",label:"Direccion de Email:","label-for":"input-2"}},[r("b-form-input",{attrs:{placeholder:"Ingrese Email",required:"",type:"email"},model:{value:e.paciente.email,callback:function(t){e.$set(e.paciente,"email",t)},expression:"paciente.email"}})],1)],1)],1),r("b-row",[r("b-col",{attrs:{lg:"8",md:"4"}},[r("b-form-group",{attrs:{id:"input-group-2",label:"Direccion:","label-for":"input-2"}},[r("b-form-input",{attrs:{placeholder:"Ingrese Calle",required:""},model:{value:e.paciente.direccion,callback:function(t){e.$set(e.paciente,"direccion",t)},expression:"paciente.direccion"}})],1)],1)],1)],1):r("div",{staticClass:"rounded"},[r("h6",[r("b",[e._v(" Datos del tutor ")])]),r("hr"),r("br"),r("b-row",[r("br"),r("b-col",{attrs:{lg:"6"}},[r("b-form-group",{attrs:{label:"Nombre del tutor :"}},[r("b-form-input",{attrs:{type:"text",placeholder:"Ingrese Nombre del tutor",required:""},model:{value:e.paciente.tutor.tutor.nombre,callback:function(t){e.$set(e.paciente.tutor.tutor,"nombre",t)},expression:"paciente.tutor.tutor.nombre"}})],1)],1),r("b-col",{attrs:{lg:"6"}},[r("b-form-group",{attrs:{id:"input-group-2",label:"Apellido del tutor :","label-for":"input-2"}},[r("b-form-input",{attrs:{placeholder:"Ingrese apellido del tutor",required:""},model:{value:e.paciente.tutor.tutor.apellido,callback:function(t){e.$set(e.paciente.tutor.tutor,"apellido",t)},expression:"paciente.tutor.tutor.apellido"}})],1)],1)],1),r("b-row",[r("b-col",{attrs:{lg:"4"}},[r("b-form-group",{attrs:{id:"input-group-2",label:"Telefono deltutor:","label-for":"input-2"}},[r("b-form-input",{attrs:{type:"text",placeholder:"Ingrese Telefono del tutor",required:""},model:{value:e.paciente.tutor.tutor.telefono,callback:function(t){e.$set(e.paciente.tutor.tutor,"telefono",t)},expression:"paciente.tutor.tutor.telefono"}})],1)],1),r("b-col",{attrs:{lg:"4"}},[r("b-form-group",{attrs:{id:"input-group-2",label:"Email del tutor:","label-for":"input-2"}},[r("b-form-input",{attrs:{placeholder:"Ingrese Email del tutor",required:"",type:"email"},model:{value:e.paciente.tutor.tutor.email,callback:function(t){e.$set(e.paciente.tutor.tutor,"email",t)},expression:"paciente.tutor.tutor.email"}})],1)],1)],1),r("b-row",[r("b-col",{attrs:{lg:"8"}},[r("b-form-group",{attrs:{id:"input-group-2",label:"Direccion:","label-for":"input-2"}},[r("b-form-input",{attrs:{placeholder:"Ingrese la direccion",required:""},model:{value:e.paciente.tutor.tutor.direccion,callback:function(t){e.$set(e.paciente.tutor.tutor,"direccion",t)},expression:"paciente.tutor.tutor.direccion"}})],1)],1)],1)],1),r("h6",[r("b",[e._v(" Datos de la obra social ")])]),r("hr"),r("b-row",[r("b-col",{attrs:{lg:"4",md:"4"}},[r("b-form-group",{attrs:{id:"os-label",label:"Obra Social:","label-for":"os"}},[r("ValidationProvider",{attrs:{name:"os "},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-select",{attrs:{options:e.getObrasSociales,state:!a[0]&&(!!o||null)},on:{change:function(t){return e.cambioOs()}},model:{value:e.paciente.obra_social.obra_social.id,callback:function(t){e.$set(e.paciente.obra_social.obra_social,"id",t)},expression:"paciente.obra_social.obra_social.id"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"numeroOS-label",label:"Numero de afiliado:","label-for":"numeroOS"}},[r("ValidationProvider",{attrs:{rules:e.required,name:"numeroOS "},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"Numero de afiliado",type:"text",state:!a[0]&&(!!o||null)},model:{value:e.paciente.obra_social.numero_afiliado,callback:function(t){e.$set(e.paciente.obra_social,"numero_afiliado",t)},expression:"paciente.obra_social.numero_afiliado"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1),r("h6",[r("b",[e._v(" Historia clinica del paciente ")])]),r("hr"),r("b-row",[r("b-col",[r("b-form-group",{attrs:{id:"historiaclinica-label","label-for":"observaciones"}},[r("ValidationProvider",{attrs:{name:"historiaclinica "},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("vue-editor",{attrs:{state:!a[0]&&(!!o||null),required:""},model:{value:e.paciente.historia_clinica,callback:function(t){e.$set(e.paciente,"historia_clinica",t)},expression:"paciente.historia_clinica"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1)],1),r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[this.editar?e._e():r("b-button",{staticStyle:{width:"250px"},attrs:{variant:"success"},on:{click:function(t){return e.crearPaciente()}}},[e._v("Crear Paciente ")]),this.editar?r("b-button",{staticStyle:{width:"250px"},attrs:{variant:"success"},on:{click:function(t){return e.editarPaciente()}}},[e._v("Editar Paciente ")]):e._e()],1)],1)],1)],1)])},te=[],re=(r("d81d"),""),ae="/personas_api/",oe={obtenerObrasSociales:function(){return D().get(ae+re+"obras_sociales/")},crearObraSocial:function(e){return D().post(ae+re+"obras_sociales/",e)},deleteObra:function(e){return D().delete(ae+re+"obras_sociales/"+e.id)},editarObraSocial:function(e){return D().put(ae+"obras_sociales/"+e.id+"/",e)}},ne=r("5873"),ie={components:{VueEditor:ne["a"]},props:{paciente:{type:Object,default:function(){return{nombre:"",apellido:"",dni:null,direccion:null,obra_social:{obra_social:{id:null,nombre:"test"},numero_afiliado:null},tutor:{tutor:{nombre:null,apellido:null,email:null,telefono:null,direccion:null}},email:null,fecha_nacimiento:null,historia_clinica:null,telefono:null}}},editar:{type:Boolean,return:!1}},data:function(){return{alerts:[],loading:!0,obras_sociales:[],required:"",showError:!1,error:null,idPacienteEditar:null}},created:function(){this.editar&&(this.verificarSiTieneOS(),this.idPacienteEditar=this.paciente.id)},methods:{verificarSiTieneOS:function(){null==this.paciente.obra_social&&(this.paciente.obra_social=this.paciente.obra_social={obra_social:{id:null,nombre:"test"},numero_afiliado:null})},cambioOs:function(){this.required="required"},esMayor:function(){var e=new Date,t=new Date(this.paciente.fecha_nacimiento),r=e.getFullYear()-t.getFullYear(),a=e.getMonth()-t.getMonth();return(a<0||0===a&&e.getDate()<t.getDate())&&r--,r>17},editarPaciente:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.detailsPaciente.validate();case 3:if(r=t.sent,!r){t.next=10;break}return a=e.armarArray(),t.next=8,U.editarPaciente(e.idPacienteEditar,a);case 8:o=t.sent,200==o.status&&(e.$root.$bvToast.toast("Se edito con exito el paciente",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaPacientes"}));case 10:t.next=20;break;case 12:t.prev=12,t.t0=t["catch"](0),e.showError=!0,e.error="",e.error+=null!=t.t0.response.data.email?"Email: "+t.t0.response.data.email:"",e.error+=null!=t.t0.response.data.dni?"DNI "+t.t0.response.data.dni:"",e.error+=null!=t.t0.response.data.historia_clinica?"Historia clinica:"+t.t0.response.data.historia_clinica:"",console.log(t.t0.response);case 20:case"end":return t.stop()}}),t,null,[[0,12]])})))()},armarDireccion:function(e,t,r){return e+" "+t+" "+r},crearPaciente:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.paciente),t.prev=1,t.next=4,e.$refs.detailsPaciente.validate();case 4:if(r=t.sent,!r){t.next=15;break}return a=e.armarArray(),console.log("datos"),console.log(a),t.next=11,U.crearPaciente(a);case 11:o=t.sent,console.log(o),e.$root.$bvToast.toast("Se creo con exito el paciente",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaPacientes"});case 15:t.next=24;break;case 17:t.prev=17,t.t0=t["catch"](1),e.showError=!0,e.error="",e.error+=null!=t.t0.response.data.email?"Email: "+t.t0.response.data.email:"",e.error+=null!=t.t0.response.data.dni?"DNI "+t.t0.response.data.dni:"",e.error+=null!=t.t0.response.data.historia_clinica?"Historia clinica:"+t.t0.response.data.historia_clinica:"";case 24:case"end":return t.stop()}}),t,null,[[1,17]])})))()},armarArray:function(){var e={},t={};return e={obra_social:{obra_social:{id:this.paciente.obra_social.obra_social.id,nombre:"test"},numero_afiliado:this.paciente.obra_social.numero_afiliado}},t=this.esMayor()?{nombre:this.paciente.nombre,apellido:this.paciente.apellido,dni:this.paciente.dni,fecha_nacimiento:this.paciente.fecha_nacimiento,direccion:this.paciente.direccion,email:this.paciente.email,historia_clinica:this.paciente.historia_clinica,telefono:this.paciente.telefono}:{nombre:this.paciente.nombre,apellido:this.paciente.apellido,dni:this.paciente.dni,fecha_nacimiento:this.paciente.fecha_nacimiento,historia_clinica:this.paciente.historia_clinica,tutor:{tutor:{nombre:this.paciente.tutor.tutor.nombre,apellido:this.paciente.tutor.tutor.apellido,email:this.paciente.tutor.tutor.email,telefono:this.paciente.tutor.tutor.telefono,calle:this.paciente.tutor.tutor.calle,numero:this.paciente.tutor.tutor.numero,piso:this.paciente.tutor.tutor.piso,direccion:this.paciente.tutor.tutor.direccion}}},null!=this.paciente.obra_social.numero_afiliado&&(t=Object(d["a"])(Object(d["a"])({},t),e)),t},obtenerObrasSociales:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe.obtenerObrasSociales();case 3:r=t.sent,e.obras_sociales=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},computed:{usuario:function(){return I.getApiToken().usuario},getObrasSociales:function(){var e=this.obras_sociales.map((function(e){return{value:e.id,text:e.nombre}}));return e.push({value:null,text:"-Seleccione la obra social -",disabled:!0}),e}},mounted:function(){var e=this;C.a.all([this.obtenerObrasSociales()]).then((function(){e.loading=!1})).catch((function(e){console.log(e)}))}},se=ie,le=Object(b["a"])(se,ee,te,!1,null,null,null),ce=le.exports,ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("br"),r("h4",[e._v("Listado de Pacientes")]),r("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Buscar en el listado"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),r("b-input-group-append",[r("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Buscar")])],1)],1)],1),r("b-table",{attrs:{items:e.items,fields:e.fields,filter:e.filter,"current-page":e.currentPage,"per-page":e.perPage},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(acciones)",fn:function(t){return[r("b-button",{attrs:{title:"Ver historia clinica",variant:"outline-primary"},on:{click:function(r){return e.verHistoria(t.item.historia_clinica)}}},[r("b-icon",{attrs:{icon:"eye","aria-hidden":"true"}})],1),r("b-button",{attrs:{title:"Editar",variant:"outline-success"},on:{click:function(r){return e.editarPaciente(t.item)}}},[r("b-icon",{attrs:{icon:"arrow-repeat",variant:"sucess"}})],1),r("b-button",{attrs:{variant:"outline-danger",title:"Eliminar"},on:{click:function(r){return e.borrarPaciente(t.item)}}},[r("b-icon",{attrs:{icon:"trash",variant:"danger"}})],1)]}}])}),r("b-row",[r("b-col",{attrs:{md:"1"}},[r("b-form-select",{attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1),r("b-col",{staticClass:"text-center"},[r("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),r("br")],1),r("div",[r("b-modal",{ref:"modalHistoriaCLinica",attrs:{"ok-only":"",title:"Historia clinica"}},[r("div",{domProps:{innerHTML:e._s(this.historiaClinica)}})])],1)],1)},de=[],pe={name:"ListaPacientes",components:{},props:{},data:function(){return{historiaClinica:null,perPage:10,pageOptions:[10,15,20],filter:null,currentPage:1,totalRows:1,fields:[{key:"apellido",label:"Apellido",class:"text-center p2"},{key:"nombre",label:"Nombre",class:"text-center p2"},{key:"dni",label:"DNI",class:"text-center p2"},{key:"fecha_nacimiento",label:"Fecha Nacimiento",class:"text-center p2"},{key:"telefono",label:"Telefono",class:"text-center p2"},{key:"acciones",label:"Acciones",class:"text-center p2"}],items:[]}},created:function(){},methods:{borrarPaciente:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,U.borrarPaciente(e);case 3:a=r.sent,console.log(a),t.$root.$bvToast.toast("Se elimino el paciente",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),t.obtenerPacientes(),r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](0),console.log(r.t0),t.$root.$bvToast.toast("No se pudo eliminar el paciente",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},obtenerPacientes:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.obtenerPacientes();case 3:r=t.sent,e.items=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},editarPaciente:function(e){this.$router.push({name:"paciente",params:{paciente:e,editar:!0}})},verHistoria:function(e){this.historiaClinica=e,this.$refs["modalHistoriaCLinica"].show()}},mounted:function(){var e=this;C.a.all([this.obtenerPacientes()]).then((function(){e.totalRows=e.items.length})).catch((function(e){console.log(e)}))}},me=pe,be=Object(b["a"])(me,ue,de,!1,null,null,null),fe=be.exports,ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[e.loading?r("div",[r("b-spinner"),r("h4",[e._v("Listado de Estudios")])],1):r("div",[r("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Buscar por nombre de paciente,medico derivante u diagnostico"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),r("b-input-group-append",[r("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Buscar")])],1)],1)],1),r("b-table",{attrs:{responsive:"","show-empty":"","empty-text":"El sistema no posee estudios cargados",items:e.items,fields:e.fields,filter:e.filter,"current-page":e.currentPage,"per-page":e.perPage,"sort-by":e.sortBy,"sort-desc":e.sortDesc},on:{filtered:e.onFiltered,"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"cell(estados)",fn:function(t){return[e._v(" "+e._s(e.obtenerUltimoEstado(t.item))+" ")]}},{key:"cell(fecha)",fn:function(t){return[e._v(" "+e._s(e.armarFecha(t.item))+" ")]}},{key:"cell(acciones)",fn:function(t){return[r("b-button",{attrs:{variant:"outline-white"},on:{click:function(r){return e.detalleEstudio(t.item)}}},[r("b-icon",{attrs:{icon:"file-earmark-person-fill",variant:"info"}})],1),e.esUltimoEstado(t.item)?r("div",[r("b-button",{attrs:{variant:"outline-white",title:"Siguiente estado"},on:{click:function(r){return e.siguienteEstado(t.item)}}},[r("b-icon",{attrs:{icon:"arrow-right-square",variant:"info"}})],1)],1):e._e(),e.checkComprobantePago(t.item)?r("b-button",{attrs:{title:"Anular estudio por falta de comprobante de pago",variant:"outline-white"},on:{click:function(r){return e.anularEstudioFaltaComprobante(t.item)}}},[r("b-icon",{attrs:{icon:"x-circle",fill:"",variant:"danger"}})],1):e._e(),e.checkFaltaDatosMuestra(t.item)?r("b-button",{attrs:{title:"Volver a seleccion de turno, falta de datos en la muestra",variant:"outline-white"},on:{click:function(r){return e.anularEstudioFaltaDatosMuestra(t.item)}}},[r("b-icon",{attrs:{icon:"x-circle",fill:"",variant:"danger"}})],1):e._e()]}}])}),r("b-row",[r("b-col",[r("b-form-select",{staticStyle:{width:"100px"},attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1),r("b-col",[r("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),r("br")],1)],1)])},ge=[],he=(r("ac1f"),r("5319"),r("4e82"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("9861"),""),_e="/estudio_api/",ke={obtenerEstudios:function(){return D().get(_e+he+"tiposEstudio/")},obtenerEstudio:function(e){return D().get(_e+he+"estudios/"+e)},obtenerTurnos:function(){return D().get(_e+he+"listaTurnos/")},crearEstudio:function(e){return D().post(_e+he+"estudios/",e)},obtenerDiagnosticos:function(){return D().get(_e+he+"diagnosticos/")},obtenerListaEstudios:function(){return D().get(_e+he+"estudios/")},actualizarUltimoEstado:function(e,t){return D().put(_e+he+"estados/"+t+"/",e)},obtenerListaEstudiosParaInformes:function(){return D().get(_e+he+"estudios/buscar/?e=EsperandoInterpretacionDeResultados")},obtenerConsentimientoInformado:function(e){return D().get(_e+he+"estudios/"+e+"/consentimiento_informado/")},descargarPresupuesto:function(e){var t=JSON.parse(window.localStorage.getItem("credenciales"));C()({method:"get",url:"http://ttps-grupo07.dyndns.org:8000"+_e+he+"estudios/"+e+"/presupuesto/",responseType:"arraybuffer",auth:{username:t.usuario,password:t.clave}}).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.download="Presupuesto.pdf",r.click()}))},descargarPago:function(e){var t=JSON.parse(window.localStorage.getItem("credenciales"));C()({method:"get",url:"http://ttps-grupo07.dyndns.org:8000"+_e+he+"estudios/"+e+"/comprobante_de_pago/",responseType:"arraybuffer",auth:{username:t.usuario,password:t.clave}}).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.download="Pago.pdf",r.click()}))},descargarConsentimiento:function(e){var t=JSON.parse(window.localStorage.getItem("credenciales"));C()({method:"get",url:"http://ttps-grupo07.dyndns.org:8000"+_e+he+"estudios/"+e+"/consentimiento_informado/",responseType:"arraybuffer",auth:{username:t.usuario,password:t.clave}}).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.download="ConsentimientoFirmado.pdf",r.click()}))},descargarInformeDeResultado:function(e){var t=JSON.parse(window.localStorage.getItem("credenciales"));C()({method:"get",url:"http://ttps-grupo07.dyndns.org:8000"+_e+he+"estudios/"+e+"/informe_de_resultado/",responseType:"arraybuffer",auth:{username:t.usuario,password:t.clave}}).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.download="informe-final.pdf",r.click()}))}},xe={name:"listaEstudios",components:{},props:{},data:function(){return{perPage:30,sortBy:"fecha",sortDesc:!1,pageOptions:[30,10,15,40],filter:null,currentPage:1,loading:!0,totalRows:1,fields:[{key:"paciente.nombre",label:"Nombre",class:"text-center p2"},{key:"paciente.apellido",label:"Apellido",class:"text-center p2",sortable:!0},{key:"medico_derivante.apellido",label:"Medico derivante",class:"text-center p2"},{key:"diagnostico.nombre",label:"Diagnostico",class:"text-center p2"},{key:"tipo.nombre",label:"Tipo Estudio",class:"text-center p2"},{key:"estados",label:"Estado",class:"text-center p2"},{key:"fecha",label:"Fecha",class:"text-center p2"},{key:"acciones",label:"Acciones",class:"text-center p2"}],items:[]}},created:function(){},computed:Object(d["a"])({},Object(o["c"])(["hasRol"])),methods:{armarFecha:function(e){return new Date(e.ultimo_estado.fecha).format("DD-MM-YYYY HH:MM")},obtenerUltimoEstado:function(e){var t=e.ultimo_estado.resourcetype;return t=t.replace(/([a-z])([A-Z])/g,"$1 $2"),t=t.replace(/([A-Z])([A-Z][a-z])/g,"$1 $2"),t},esUltimoEstado:function(e){var t=e.ultimo_estado;return"ResultadoDeEstudioEntregado"!=t.resourcetype},obtenerListaEstudios:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke.obtenerListaEstudios();case 3:r=t.sent,e.items=e.ordenarEstudiosFecha(r.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},ordenarEstudiosFecha:function(e){return e.sort((function(e,t){return e.ultimo_estado.fecha<t.ultimo_estado.fecha?1:e.ultimo_estado.fecha>t.ultimo_estado.fecha?-1:0})),e},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},detalleEstudio:function(e){this.$router.push({name:"detalleDeEstudio",params:{estudioId:e.id}})},siguienteEstado:function(e){"EsperandoTomaDeMuestra"==e.ultimo_estado.resourcetype&&this.hasRol("Pacientes")?this.$root.$bvToast.toast("Aguarde que el empleado complete el estudio",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"info"}):this.$router.push({name:e.ultimo_estado.resourcetype,params:{estudio:e}})},checkComprobantePago:function(e){if("EsperandoComprobanteDePago"!=e.ultimo_estado.resourcetype)return!1;var t=new Date,r=new Date(e.ultimo_estado.fecha),a=Math.abs(t-r),o=a/864e5;return o>30},checkFaltaDatosMuestra:function(e){if("EsperandoTomaDeMuestra"!=e.ultimo_estado.resourcetype)return!1;var t=new Date,r=new Date(e.ultimo_estado.turno.inicio),a=Math.abs(t-r),o=a/864e5;return o>30},anularEstudioFaltaDatosMuestra:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,a={estudio_id:e.id,expirado:!0,resourcetype:e.ultimo_estado.resourcetype},r.next=4,ke.actualizarUltimoEstado(a,e.ultimo_estado.id);case 4:t.$root.$bvToast.toast("Usted volvio a la seleccion de turno porque no cargo los datos",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),t.obtenerListaEstudios(),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),t.$root.$bvToast.toast("ocurrio un error mientras anulaba el estudio, por favor vuelva a intentar",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},anularEstudioFaltaComprobante:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,a={estudio_id:e.id,fecha_procesado:new Date,resourcetype:e.ultimo_estado.resourcetype},r.next=4,ke.actualizarUltimoEstado(a,e.ultimo_estado.id);case 4:t.$root.$bvToast.toast("Usted anulo el estudio por que no se subio el comprobante de pago,quedo inhabilitado para poder continuar",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),t.obtenerListaEstudios(),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),t.$root.$bvToast.toast("ocurrio un error mientras anulaba el estudio, por favor vuelva a intentar",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()}},mounted:function(){var e=this;C.a.all([this.obtenerListaEstudios()]).then((function(){e.totalRows=e.items.length,e.loading=!1})).catch((function(e){console.log(e)}))}},we=xe,ye=Object(b["a"])(we,ve,ge,!1,null,null,null),Ee=ye.exports,Pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[e.loading?r("div",[r("b-spinner"),r("h4",[e._v("Listado de Configuradores")])],1):r("div",[r("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Buscar por nombre "},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),r("b-input-group-append",[r("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Buscar")])],1)],1)],1),r("b-table",{attrs:{"show-empty":"","empty-text":"Todavia no hay usuarios configuradores",items:e.items,fields:e.fields,filter:e.filter,"current-page":e.currentPage,"per-page":e.perPage},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(acciones)",fn:function(t){return[r("b-button",{attrs:{variant:"outline-success",title:"Editar"},on:{click:function(r){return e.editar(t.item)}}},[r("b-icon",{attrs:{icon:"arrow-repeat",variant:"success"}})],1),r("b-button",{attrs:{variant:"outline-danger",title:"Eliminar"},on:{click:function(r){return e.siguienteEstado(t.item)}}},[r("b-icon",{attrs:{icon:"trash",variant:"danger"}})],1)]}}])}),r("b-row",[r("b-col",[r("b-form-select",{staticStyle:{width:"150px"},attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1),r("b-col",[r("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),r("br")],1)],1)])},Re=[],je={name:"PacientesService",components:{},props:{},data:function(){return{perPage:10,pageOptions:[4,10,15],filter:null,currentPage:1,loading:!0,totalRows:1,fields:[{key:"nombre",label:"Nombre",class:"text-center p2"},{key:"apellido",label:"Apellido",class:"text-center p2"},{key:"email",label:"Email",class:"text-center p2"},{key:"usuario.username",label:"Usuario",class:"text-center p2"},{key:"acciones",label:"Acciones",class:"text-center p2"}],items:[]}},created:function(){},methods:{siguienteEstado:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),r.prev=1,r.next=4,U.deleteConfigurador(e);case 4:a=r.sent,t.$root.$bvToast.toast("Se elimino el configurador",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),console.log(a),t.obtenerConfiguradores(),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](1),console.log(r.t0),t.$root.$bvToast.toast("No se pudo eliminar ",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))()},obtenerConfiguradores:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.obtenerConfiguradores();case 3:r=t.sent,e.items=r.data,console.log(e.items),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},editar:function(e){this.$router.push({name:"configuradores",params:{configurador:e,editar:!0}})},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},detalleEstudio:function(e){console.log(e),this.$router.push({name:"configuradores",params:{estudio:e}})}},mounted:function(){var e=this;C.a.all([this.obtenerConfiguradores()]).then((function(){e.totalRows=e.items.length,e.loading=!1})).catch((function(e){console.log(e)}))}},$e=je,Oe=Object(b["a"])($e,Pe,Re,!1,null,null,null),Se=Oe.exports,Ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("p",{staticClass:"h3 text-center"},[e.editar?e._e():r("strong",[e._v(" Crear un configurador")]),e.editar?r("strong",[e._v(" Editar configurador")]):e._e()])])],1),r("ValidationObserver",{ref:"datosConfigurador"},[r("b-form-group",e._l(e.alerts,(function(t){return r("b-alert",{key:t.key,attrs:{dismissible:"",show:"",variant:t.variant}},[e._v(e._s(t.message))])})),1),r("b-card",{attrs:{header:"Datos del configurador"}},[r("b-row",[r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"Nombre-label",label:"Nombre :","label-for":"Nombre"}},[r("ValidationProvider",{attrs:{name:"Nombre ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"Nombre",state:!a[0]&&(!!o||null)},model:{value:e.configurador.nombre,callback:function(t){e.$set(e.configurador,"nombre",t)},expression:"configurador.nombre"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"apellido-label",label:"apellido :","label-for":"apellido"}},[r("ValidationProvider",{attrs:{name:"apellido ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"apellido",state:!a[0]&&(!!o||null)},model:{value:e.configurador.apellido,callback:function(t){e.$set(e.configurador,"apellido",t)},expression:"configurador.apellido"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1),r("b-row",[r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"usuario-label",label:"usuario:","label-for":"usuario"}},[r("ValidationProvider",{attrs:{name:"usuario ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"usuario",state:!a[0]&&(!!o||null)},model:{value:e.configurador.usuario.username,callback:function(t){e.$set(e.configurador.usuario,"username",t)},expression:"configurador.usuario.username"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"contraseña-label",label:"contraseña:","label-for":"contraseña"}},[r("ValidationProvider",{attrs:{name:"contraseña ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{type:"password",placeholder:"contraseña",state:!a[0]&&(!!o||null)},model:{value:e.configurador.usuario.password,callback:function(t){e.$set(e.configurador.usuario,"password",t)},expression:"configurador.usuario.password"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1),r("b-row",[r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"email-label",label:"email :","label-for":"email"}},[r("ValidationProvider",{attrs:{name:"email ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"email",state:!a[0]&&(!!o||null)},model:{value:e.configurador.email,callback:function(t){e.$set(e.configurador,"email",t)},expression:"configurador.email"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1)],1)],1),r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[e.editar?e._e():r("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.crear()}}},[e._v("Crear ")]),e.editar?r("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.editarConfigurador()}}},[e._v("Editar ")]):e._e()],1)],1)],1)},De=[],Te={components:{},props:{configurador:{type:Object,default:function(){return{nombre:"",apellido:null,usuario:{username:null,password:null},email:null}}},editar:{type:Boolean,return:!1}},data:function(){return{alerts:[]}},methods:{crear:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.datosConfigurador.validate();case 3:if(r=t.sent,!r){t.next=9;break}return t.next=7,U.crearConfigurador(e.configurador);case 7:e.$root.$bvToast.toast("Se creo con exito el configurador",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaConfiguradores"});case 9:t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0),e.$root.$bvToast.toast("NO se pudo crear el configurador, el usuario ya existe",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},editarConfigurador:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.datosConfigurador.validate();case 3:if(r=t.sent,!r){t.next=11;break}return t.next=7,U.editarConfigurador(e.configurador);case 7:a=t.sent,console.log(a),e.$root.$bvToast.toast("Se edito con exito el configurador",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaConfiguradores"});case 11:t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0),e.$root.$bvToast.toast("No se pudo editar el configurador",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()}},computed:{}},Ie=Te,Ae=Object(b["a"])(Ie,Ce,De,!1,null,null,null),qe=Ae.exports,Fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[e.loading?r("div",[r("b-spinner"),r("h4",[e._v("Listado de Medicos informantes")])],1):r("div",[r("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Buscar por nombre "},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),r("b-input-group-append",[r("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Buscar")])],1)],1)],1),r("b-table",{attrs:{"show-empty":"","empty-text":"Todavia no hay medicos informantes",items:e.items,fields:e.fields,filter:e.filter,"current-page":e.currentPage,"per-page":e.perPage},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(acciones)",fn:function(t){return[r("b-button",{attrs:{variant:"outline-success",title:"Editar"},on:{click:function(r){return e.editar(t.item)}}},[r("b-icon",{attrs:{icon:"arrow-repeat",variant:"success"}})],1),r("b-button",{attrs:{variant:"outline-danger",title:"Eliminar"},on:{click:function(r){return e.siguienteEstado(t.item)}}},[r("b-icon",{attrs:{icon:"trash",variant:"danger"}})],1)]}}])}),r("b-row",[r("b-col",[r("b-form-select",{staticStyle:{width:"150px"},attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1),r("b-col",[r("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),r("br")],1)],1)])},Le=[],Me={name:"PacientesService",components:{},props:{},data:function(){return{perPage:10,pageOptions:[4,10,15],filter:null,currentPage:1,loading:!0,totalRows:1,fields:[{key:"nombre",label:"Nombre",class:"text-center p2"},{key:"apellido",label:"Apellido",class:"text-center p2"},{key:"email",label:"E-mail",class:"text-center p2"},{key:"matricula",label:"Matricula",class:"text-center p2"},{key:"usuario.username",label:"Usuario",class:"text-center p2"},{key:"acciones",label:"Acciones",class:"text-center p2"}],items:[]}},created:function(){},methods:{siguienteEstado:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),r.prev=1,r.next=4,U.deleteMedicosInformantes(e);case 4:a=r.sent,t.$root.$bvToast.toast("Se elimino el medico informante",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),console.log(a),t.obtenerMedicosInformantes(),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](1),console.log(r.t0),t.$root.$bvToast.toast("No se pudo eliminar el medico informante",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))()},obtenerMedicosInformantes:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.obtenerMedicosInformantes();case 3:r=t.sent,e.items=r.data,console.log(e.items),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},editar:function(e){this.$router.push({name:"medicoInformante",params:{medicoInformante:e,editar:!0}})},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},detalleEstudio:function(e){console.log(e),this.$router.push({name:"configuradores",params:{estudio:e}})}},mounted:function(){var e=this;C.a.all([this.obtenerMedicosInformantes()]).then((function(){e.totalRows=e.items.length,e.loading=!1})).catch((function(e){console.log(e)}))}},Ne=Me,ze=Object(b["a"])(Ne,Fe,Le,!1,null,null,null),Ve=ze.exports,Ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("p",{staticClass:"h3 text-center"},[e.editar?e._e():r("strong",[e._v(" Crear un medico infomante")]),e.editar?r("strong",[e._v(" Editar un medico informante")]):e._e()])])],1),r("b-card",{attrs:{header:"Datos del medico informante"}},[r("ValidationObserver",{ref:"datosInformante"},[r("b-form-group",e._l(e.alerts,(function(t){return r("b-alert",{key:t.key,attrs:{dismissible:"",show:"",variant:t.variant}},[e._v(e._s(t.message))])})),1),this.showError?r("b-alert",{attrs:{show:"",variant:"danger"}},[e._v(e._s(this.error))]):e._e(),r("b-row",[r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"Nombre-label",label:"Nombre :","label-for":"Nombre"}},[r("ValidationProvider",{attrs:{name:"Nombre ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"Nombre",state:!a[0]&&(!!o||null)},model:{value:e.medicoInformante.nombre,callback:function(t){e.$set(e.medicoInformante,"nombre",t)},expression:"medicoInformante.nombre"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"apellido-label",label:"apellido :","label-for":"apellido"}},[r("ValidationProvider",{attrs:{name:"apellido ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"apellido",state:!a[0]&&(!!o||null)},model:{value:e.medicoInformante.apellido,callback:function(t){e.$set(e.medicoInformante,"apellido",t)},expression:"medicoInformante.apellido"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1),r("b-row",[r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"email-label",label:"email :","label-for":"email"}},[r("ValidationProvider",{attrs:{name:"email ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"email",state:!a[0]&&(!!o||null)},model:{value:e.medicoInformante.email,callback:function(t){e.$set(e.medicoInformante,"email",t)},expression:"medicoInformante.email"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"matricula-label",label:"matricula :","label-for":"matricula"}},[r("ValidationProvider",{attrs:{name:"matricula ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"matricula",state:!a[0]&&(!!o||null)},model:{value:e.medicoInformante.matricula,callback:function(t){e.$set(e.medicoInformante,"matricula",t)},expression:"medicoInformante.matricula"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1),r("b-row",[r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"usuario-label",label:"usuario:","label-for":"usuario"}},[r("ValidationProvider",{attrs:{name:"usuario",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"usuario",state:!a[0]&&(!!o||null)},model:{value:e.medicoInformante.usuario.username,callback:function(t){e.$set(e.medicoInformante.usuario,"username",t)},expression:"medicoInformante.usuario.username"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"contraseña-label",label:"contraseña:","label-for":"contraseña"}},[r("ValidationProvider",{attrs:{name:"contraseña ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{type:"password",placeholder:"contraseña",state:!a[0]&&(!!o||null)},model:{value:e.medicoInformante.usuario.password,callback:function(t){e.$set(e.medicoInformante.usuario,"password",t)},expression:"medicoInformante.usuario.password"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1)],1),r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[e.editar?e._e():r("b-button",{staticStyle:{width:"250px"},attrs:{variant:"success"},on:{click:function(t){return e.crear()}}},[e._v("Crear ")]),e.editar?r("b-button",{staticStyle:{width:"250px"},attrs:{variant:"success"},on:{click:function(t){return e.editarInformante()}}},[e._v("Editar ")]):e._e()],1)],1)],1)],1)},Be=[],He={components:{},props:{medicoInformante:{type:Object,default:function(){return{nombre:"",apellido:null,email:null,matricula:null,usuario:{username:null,password:null}}}},editar:{type:Boolean,return:!1}},data:function(){return{alerts:[],showError:!1,error:null}},methods:{crear:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.datosInformante.validate();case 3:if(r=t.sent,!r){t.next=12;break}return console.log(e.medicoInformante),t.next=8,U.crearMedicoInformante(e.medicoInformante);case 8:a=t.sent,console.log(a),e.$root.$bvToast.toast("Se creo con exito el medico informante",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaMedicoInformante"});case 12:t.next=20;break;case 14:t.prev=14,t.t0=t["catch"](0),e.showError=!0,e.error="",e.error+=null!=t.t0.response.data.email?"Email: "+t.t0.response.data.email:"",e.error+=null!=t.t0.response.data.usuario?"Usuario "+t.t0.response.data.usuario:"";case 20:case"end":return t.stop()}}),t,null,[[0,14]])})))()},editarInformante:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.datosInformante.validate();case 3:if(r=t.sent,!r){t.next=12;break}return console.log(e.medicoInformante),t.next=8,U.editarMedicoInformante(e.medicoInformante);case 8:a=t.sent,console.log(a),e.$root.$bvToast.toast("Se edito con exito el medico informante",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaMedicoInformante"});case 12:t.next=20;break;case 14:t.prev=14,t.t0=t["catch"](0),e.showError=!0,e.error="",e.error+=null!=t.t0.response.data.email?"Email: "+t.t0.response.data.email:"",e.error+=null!=t.t0.response.data.usuario?"Usuario "+t.t0.response.data.usuario:"";case 20:case"end":return t.stop()}}),t,null,[[0,14]])})))()}},computed:{}},Ye=He,Je=Object(b["a"])(Ye,Ue,Be,!1,null,null,null),Ze=Je.exports,Ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[e.loading?r("div",[r("b-spinner"),r("h4",[e._v("Listado de Medicos Derivantes")])],1):r("div",[r("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Buscar por nombre "},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),r("b-input-group-append",[r("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Buscar")])],1)],1)],1),r("b-table",{attrs:{"show-empty":"","empty-text":"Todavia no hay medicos derivantes",items:e.items,fields:e.fields,filter:e.filter,"current-page":e.currentPage,"per-page":e.perPage},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(acciones)",fn:function(t){return[r("b-button",{attrs:{variant:"outline-success",title:"Editar"},on:{click:function(r){return e.editar(t.item)}}},[r("b-icon",{attrs:{icon:"arrow-repeat",variant:"success"}})],1),r("b-button",{attrs:{variant:"outline-danger",title:"Eliminar"},on:{click:function(r){return e.borrar(t.item)}}},[r("b-icon",{attrs:{icon:"trash",variant:"danger"}})],1)]}}])}),r("b-row",[r("b-col",[r("b-form-select",{staticStyle:{width:"150px"},attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1),r("b-col",[r("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),r("br")],1)],1)])},Qe=[],Xe={name:"PacientesService",components:{},props:{},data:function(){return{perPage:10,pageOptions:[4,10,15],filter:null,currentPage:1,loading:!0,totalRows:1,fields:[{key:"nombre",label:"Nombre",class:"text-center p2"},{key:"apellido",label:"Apellido",class:"text-center p2"},{key:"email",label:"E-mail",class:"text-center p2"},{key:"matricula",label:"Matricula",class:"text-center p2"},{key:"acciones",label:"Acciones",class:"text-center p2"}],items:[]}},created:function(){},methods:{borrar:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,U.deleteMedicosDerivantes(e);case 3:a=r.sent,t.$root.$bvToast.toast("Se elimino el medico derivante",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),console.log(a),t.obtenerMedicosDerivantes(),r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](0),console.log(r.t0),t.$root.$bvToast.toast("No se pudo eliminar el medico derivante ",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},obtenerMedicosDerivantes:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.obtenerMedicosDerivantes();case 3:r=t.sent,e.items=r.data,console.log(e.items),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},editar:function(e){this.$router.push({name:"medicoDerivante",params:{medicoDerivante:e,editar:!0}})},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},detalleEstudio:function(e){console.log(e),this.$router.push({name:"configuradores",params:{estudio:e}})}},mounted:function(){var e=this;C.a.all([this.obtenerMedicosDerivantes()]).then((function(){e.totalRows=e.items.length,e.loading=!1})).catch((function(e){console.log(e)}))}},Ke=Xe,We=Object(b["a"])(Ke,Ge,Qe,!1,null,null,null),et=We.exports,tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("p",{staticClass:"h3 text-center"},[e.editar?e._e():r("strong",[e._v(" Crear un medico derivante")]),e.editar?r("strong",[e._v(" Editar un medico derivante")]):e._e()])])],1),r("b-card",{attrs:{header:"Datos del medico derivante"}},[r("ValidationObserver",{ref:"datosInformante"},[r("b-form-group",e._l(e.alerts,(function(t){return r("b-alert",{key:t.key,attrs:{dismissible:"",show:"",variant:t.variant}},[e._v(e._s(t.message))])})),1),this.showError?r("b-alert",{attrs:{show:"",variant:"danger"}},[e._v(e._s(this.error))]):e._e(),r("b-row",[r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"Nombre-label",label:"Nombre :","label-for":"Nombre"}},[r("ValidationProvider",{attrs:{name:"Nombre ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"Nombre",state:!a[0]&&(!!o||null)},model:{value:e.medicoDerivante.nombre,callback:function(t){e.$set(e.medicoDerivante,"nombre",t)},expression:"medicoDerivante.nombre"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"apellido-label",label:"apellido :","label-for":"apellido"}},[r("ValidationProvider",{attrs:{name:"apellido ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"apellido",state:!a[0]&&(!!o||null)},model:{value:e.medicoDerivante.apellido,callback:function(t){e.$set(e.medicoDerivante,"apellido",t)},expression:"medicoDerivante.apellido"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1),r("b-row",[r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"email-label",label:"email :","label-for":"email"}},[r("ValidationProvider",{attrs:{name:"email ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"email",state:!a[0]&&(!!o||null)},model:{value:e.medicoDerivante.email,callback:function(t){e.$set(e.medicoDerivante,"email",t)},expression:"medicoDerivante.email"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"matricula-label",label:"matricula :","label-for":"matricula"}},[r("ValidationProvider",{attrs:{name:"matricula ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"matricula",state:!a[0]&&(!!o||null)},model:{value:e.medicoDerivante.matricula,callback:function(t){e.$set(e.medicoDerivante,"matricula",t)},expression:"medicoDerivante.matricula"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1)],1),r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[e.editar?e._e():r("b-button",{staticStyle:{width:"250px"},attrs:{variant:"success"},on:{click:function(t){return e.crear()}}},[e._v("Crear ")]),e.editar?r("b-button",{staticStyle:{width:"250px"},attrs:{variant:"success"},on:{click:function(t){return e.editarDerivante()}}},[e._v("Editar ")]):e._e()],1)],1)],1)],1)},rt=[],at={components:{},props:{medicoDerivante:{type:Object,default:function(){return{nombre:"",apellido:null,email:null,matricula:null}}},editar:{type:Boolean,return:!1}},data:function(){return{alerts:[],showError:!1,error:null}},methods:{crear:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.datosInformante.validate();case 3:if(r=t.sent,!r){t.next=12;break}return console.log(e.medicoDerivante),t.next=8,U.crearMedicoDerivante(e.medicoDerivante);case 8:a=t.sent,console.log(a),e.$root.$bvToast.toast("Se creo con exito el medico derivante",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaDerivante"});case 12:t.next=20;break;case 14:t.prev=14,t.t0=t["catch"](0),e.showError=!0,e.error="",e.error+=null!=t.t0.response.data.email?"Email: "+t.t0.response.data.email:"",e.error+=null!=t.t0.response.data.usuario?"Usuario "+t.t0.response.data.usuario:"";case 20:case"end":return t.stop()}}),t,null,[[0,14]])})))()},editarDerivante:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.datosInformante.validate();case 3:if(r=t.sent,!r){t.next=12;break}return console.log(e.medicoDerivante),t.next=8,U.editarDerivante(e.medicoDerivante);case 8:a=t.sent,console.log(a),e.$root.$bvToast.toast("Se edito con exito el medico derivante",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaDerivante"});case 12:t.next=20;break;case 14:t.prev=14,t.t0=t["catch"](0),e.showError=!0,e.error="",e.error+=null!=t.t0.response.data.email?"Email: "+t.t0.response.data.email:"",e.error+=null!=t.t0.response.data.usuario?"Usuario "+t.t0.response.data.usuario:"";case 20:case"end":return t.stop()}}),t,null,[[0,14]])})))()}},computed:{}},ot=at,nt=Object(b["a"])(ot,tt,rt,!1,null,null,null),it=nt.exports,st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[e.loading?r("line-chart",{attrs:{chartData:this.datacollection,options:this.chartOptions}}):e._e(),e.loading?r("bar-chart",{attrs:{chartData:this.dataTipoEstudios,options:this.chartOptions}}):e._e(),e.loading?r("line-chart",{attrs:{chartData:this.dataDemoraTiempo,options:this.chartOptions}}):e._e()],1)},lt=[],ct=(r("07ac"),r("159b"),r("1fca")),ut=ct["c"].reactiveProp,dt={extends:ct["b"],mixins:[ut],props:{chartData:{type:Object},options:{type:Object}},mounted:function(){this.renderChart(this.chartData,this.options)}},pt=ct["c"].reactiveProp,mt={extends:ct["a"],mixins:[pt],props:{chartData:{type:Object},options:{type:Object}},mounted:function(){this.renderChart(this.chartData,this.options)}},bt="/reportes_api/",ft="",vt={"obtenerEstudiosPorMesAño":function(){return D().get(bt+ft+"estudios_por_mes")},obtenerEstudiosPorTipo:function(){return D().get(bt+ft+"estudios_por_tipo")},demoraEstudiosProcesamiento:function(){return D().get(bt+ft+"demora_promedio_procesamiento")}},gt={name:"LineChartContainer",components:{LineChart:dt,BarChart:mt},data:function(){return{loading:!1,datacollection:{labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[]},dataDemoraTiempo:{labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[]},dataTipoEstudios:{labels:[],datasets:[]},chartOptions:{responsive:!0,maintainAspectRatio:!1}}},methods:{getRandomInt:function(){return Math.floor(46*Math.random())+5},"obtenerEstudiosPorMesAño":function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vt.obtenerEstudiosPorMesAño();case 3:r=t.sent,e.armarDatos(r.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},obtenerEstudiosPorTipo:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vt.obtenerEstudiosPorTipo();case 3:r=t.sent,e.armarDatosTipoEstudios(r.data),mt.value.chartInstance.zoom(1.01),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},demoraEstudiosProcesamiento:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vt.demoraEstudiosProcesamiento();case 3:r=t.sent,e.armarDatosTiempo(r.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},armarDatosTipoEstudios:function(e){for(var t=[],r=0;r<Object.values(e).length;r++)this.dataTipoEstudios.labels.push(e[r].tipo),t.push(e[r].cantidad);this.dataTipoEstudios.datasets.push({label:"Tipos de estudio",backgroundColor:["#77CEFF","#0079AF","#123E6B","#97B0C4","#A5C8ED"],data:t})},armarDatosTiempo:function(e){var t=[0,0,0,0,0,0,0,0,0,0,0,0];e.datos.forEach((function(e){t[e.mes]=e.tadanza_segundos})),this.dataDemoraTiempo.datasets.push({label:"Tiempo demora estudios",backgroundColor:" \t#6495ED ",data:t})},armarDatos:function(e){var t=[0,0,0,0,0,0,0,0,0,0,0];e.forEach((function(e){t[e.month-1]=e.count})),this.datacollection.datasets.push({label:"Estudios en el año",backgroundColor:" \t#6495ED ",data:t})}},mounted:function(){var e=this;C.a.all([this.obtenerEstudiosPorMesAño(),this.obtenerEstudiosPorTipo(),this.demoraEstudiosProcesamiento()]).then((function(){e.loading=!0})).catch((function(e){console.log(e)}))}},ht=gt,_t=Object(b["a"])(ht,st,lt,!1,null,null,null),kt=_t.exports,xt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[e.loading?r("div",[r("b-spinner"),r("h4",[e._v("Liquidaciones de Estudios")])],1):r("div",[r("h4",[e._v("Liquidaciones de Estudios")]),r("br"),r("b-button",{attrs:{variant:"outline-success"},on:{click:function(t){return e.liquidarEstudios()}}},[e._v("Liquidar estudios")]),r("br"),r("b-table",{ref:"selectableTable",attrs:{"show-empty":"","empty-text":"El sistema no posee estudios a liquidar",items:e.items,fields:e.fields,filter:e.filter,"current-page":e.currentPage,"per-page":e.perPage,"select-mode":e.selectMode,responsive:"sm",selectable:""},on:{"row-selected":e.onRowSelected},scopedSlots:e._u([{key:"cell(estados)",fn:function(t){return[e._v(" "+e._s(e.obtenerUltimoEstado(t.item))+" ")]}},{key:"cell(selected)",fn:function(t){var a=t.rowSelected;return[a?[r("span",{attrs:{"aria-hidden":"true"}},[e._v("✓")]),r("span",{staticClass:"sr-only"},[e._v("Selected")])]:[r("span",{attrs:{"aria-hidden":"true"}},[e._v(" ")]),r("span",{staticClass:"sr-only"},[e._v("Not selected")])]]}}])}),r("b-row",[r("b-col",[r("b-form-select",{staticStyle:{width:"150px"},attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1),r("b-col",[r("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),r("br")],1)],1)])},wt=[],yt="",Et="/liquidaciones_api/",Pt={obtenerEstudiosLiquidar:function(){return D().get(Et+yt+"liquidaciones/")},crearLiquidaciones:function(e){return D().post(Et+"liquidaciones/",e)},obtenerEstudiosLiquidados:function(){return D().get(Et+yt+"liquidados/")}},Rt={data:function(){return{selectMode:"multi",perPage:10,pageOptions:[10,25,40],filter:null,currentPage:1,loading:!0,totalRows:1,fields:[{key:"paciente.nombre",label:"Nombre",class:"text-center p2"},{key:"paciente.apellido",label:"Apellido",class:"text-center p2"},{key:"diagnostico.nombre",label:"Diagnostico",class:"text-center p2"},{key:"tipo.nombre",label:"Tipo Estudio",class:"text-center p2"},{key:"estados",label:"Estado",class:"text-center p2"},{key:"selected",label:"Seleccionado",class:"text-center p2"}],items:[],liquidacionesSeleccionadas:[]}},methods:{onRowSelected:function(e){console.log(e),this.liquidacionesSeleccionadas=e},liquidarEstudios:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.armarRespuestaConId(),a={estudios:r},console.log(a),t.next=6,Pt.crearLiquidaciones(a);case 6:o=t.sent,console.log(o),e.$root.$bvToast.toast("Los estudios fueron liquidados",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.obtenerEstudiosLiquidar(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},armarRespuestaConId:function(){var e=[];return this.liquidacionesSeleccionadas.forEach((function(t){e.push(t.id)})),e},obtenerUltimoEstado:function(e){var t=e.ultimo_estado.resourcetype;return t=t.replace(/([a-z])([A-Z])/g,"$1 $2"),t=t.replace(/([A-Z])([A-Z][a-z])/g,"$1 $2"),t},obtenerEstudiosLiquidar:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pt.obtenerEstudiosLiquidar();case 3:r=t.sent,console.log(r),e.items=r.data,e.totalRows=e.items.length,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}},mounted:function(){var e=this;C.a.all([this.obtenerEstudiosLiquidar()]).then((function(){e.totalRows=e.items.length,e.loading=!1})).catch((function(e){console.log(e)}))}},jt=Rt,$t=Object(b["a"])(jt,xt,wt,!1,null,null,null),Ot=$t.exports,St=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[e.loading?r("div",[r("b-spinner"),r("h4",[e._v(" Estudios liquidados")])],1):r("div",[r("h4",[e._v("Estudios liquidados")]),r("br"),r("br"),r("b-table",{attrs:{"show-empty":"","empty-text":"El sistema no posee estudios a liquidar",items:e.items,fields:e.fields,filter:e.filter,"current-page":e.currentPage,"per-page":e.perPage,responsive:"sm"},scopedSlots:e._u([{key:"cell(estados)",fn:function(t){return[e._v(" "+e._s(e.obtenerUltimoEstado(t.item))+" ")]}}])}),r("b-row",[r("b-col",[r("b-form-select",{staticStyle:{width:"150px"},attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1),r("b-col",[r("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),r("br")],1)],1)])},Ct=[],Dt={data:function(){return{perPage:10,pageOptions:[10,25,40],filter:null,currentPage:1,loading:!0,totalRows:1,fields:[{key:"paciente.nombre",label:"Nombre",class:"text-center p2"},{key:"paciente.apellido",label:"Apellido",class:"text-center p2"},{key:"diagnostico.nombre",label:"Diagnostico",class:"text-center p2"},{key:"tipo.nombre",label:"Tipo Estudio",class:"text-center p2"},{key:"estados",label:"Estado",class:"text-center p2"}],items:[]}},methods:{obtenerUltimoEstado:function(e){var t=e.ultimo_estado.resourcetype;return t=t.replace(/([a-z])([A-Z])/g,"$1 $2"),t=t.replace(/([A-Z])([A-Z][a-z])/g,"$1 $2"),t},obtenerEstudiosLiquidados:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pt.obtenerEstudiosLiquidados();case 3:r=t.sent,e.items=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},mounted:function(){var e=this;C.a.all([this.obtenerEstudiosLiquidados()]).then((function(){e.totalRows=e.items.length,e.loading=!1})).catch((function(e){console.log(e)}))}},Tt=Dt,It=Object(b["a"])(Tt,St,Ct,!1,null,null,null),At=It.exports,qt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[e.loading?r("div",[r("b-spinner"),r("h4",[e._v("Empleados")])],1):r("div",[r("h4",[e._v("Empleados")]),r("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Buscar por nombre "},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),r("b-input-group-append",[r("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Buscar")])],1)],1)],1),r("b-table",{attrs:{"show-empty":"","empty-text":"Todavia no hay  empleados",items:e.items,fields:e.fields,filter:e.filter,"current-page":e.currentPage,"per-page":e.perPage},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(acciones)",fn:function(t){return[r("b-button",{attrs:{variant:"outline-success",title:"Editar"},on:{click:function(r){return e.editar(t.item)}}},[r("b-icon",{attrs:{icon:"arrow-repeat",variant:"success"}})],1),r("b-button",{attrs:{variant:"outline-danger",title:"Eliminar"},on:{click:function(r){return e.siguienteEstado(t.item)}}},[r("b-icon",{attrs:{icon:"trash",variant:"danger"}})],1)]}}])}),r("b-row",[r("b-col",[r("b-form-select",{staticStyle:{width:"150px"},attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1),r("b-col",[r("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),r("br")],1)],1)])},Ft=[],Lt={name:"PacientesService",components:{},props:{},data:function(){return{perPage:10,pageOptions:[4,10,15],filter:null,currentPage:1,loading:!0,totalRows:1,fields:[{key:"nombre",label:"Nombre",class:"text-center p2"},{key:"apellido",label:"Apellido",class:"text-center p2"},{key:"email",label:"Email",class:"text-center p2"},{key:"usuario.username",label:"Usuario",class:"text-center p2"},{key:"acciones",label:"Acciones",class:"text-center p2"}],items:[]}},created:function(){},methods:{siguienteEstado:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),r.prev=1,r.next=4,U.deleteEmpleado(e);case 4:a=r.sent,t.$root.$bvToast.toast("Se elimino el empleado",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),console.log(a),t.obtenerEmpleados(),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](1),console.log(r.t0),t.$root.$bvToast.toast("No se pudo eliminar ",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))()},obtenerEmpleados:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.obtenerEmpleados();case 3:r=t.sent,e.items=r.data,console.log(e.items),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},editar:function(e){this.$router.push({name:"empleado",params:{empleado:e,editar:!0}})},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}},mounted:function(){var e=this;C.a.all([this.obtenerEmpleados()]).then((function(){e.totalRows=e.items.length,e.loading=!1})).catch((function(e){console.log(e)}))}},Mt=Lt,Nt=Object(b["a"])(Mt,qt,Ft,!1,null,null,null),zt=Nt.exports,Vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("p",{staticClass:"h3 text-center"},[e.editar?e._e():r("strong",[e._v(" Crear un empleado")]),e.editar?r("strong",[e._v(" Editar empleado")]):e._e()])])],1),r("ValidationObserver",{ref:"datosConfigurador"},[r("b-form-group",e._l(e.alerts,(function(t){return r("b-alert",{key:t.key,attrs:{dismissible:"",show:"",variant:t.variant}},[e._v(e._s(t.message))])})),1),r("b-card",{attrs:{header:"Datos del empleado"}},[r("b-row",[r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"Nombre-label",label:"Nombre :","label-for":"Nombre"}},[r("ValidationProvider",{attrs:{name:"Nombre ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"Nombre",state:!a[0]&&(!!o||null)},model:{value:e.empleado.nombre,callback:function(t){e.$set(e.empleado,"nombre",t)},expression:"empleado.nombre"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"apellido-label",label:"apellido :","label-for":"apellido"}},[r("ValidationProvider",{attrs:{name:"apellido ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"apellido",state:!a[0]&&(!!o||null)},model:{value:e.empleado.apellido,callback:function(t){e.$set(e.empleado,"apellido",t)},expression:"empleado.apellido"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1),r("b-row",[r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"usuario-label",label:"usuario:","label-for":"usuario"}},[r("ValidationProvider",{attrs:{name:"usuario ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"usuario",state:!a[0]&&(!!o||null)},model:{value:e.empleado.usuario.username,callback:function(t){e.$set(e.empleado.usuario,"username",t)},expression:"empleado.usuario.username"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"contraseña-label",label:"contraseña:","label-for":"contraseña"}},[r("ValidationProvider",{attrs:{name:"contraseña ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{type:"password",placeholder:"contraseña",state:!a[0]&&(!!o||null)},model:{value:e.empleado.usuario.password,callback:function(t){e.$set(e.empleado.usuario,"password",t)},expression:"empleado.usuario.password"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1),r("b-row",[r("b-col",{attrs:{md:"5"}},[r("b-form-group",{attrs:{id:"email-label",label:"email :","label-for":"email"}},[r("ValidationProvider",{attrs:{name:"email ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"email",state:!a[0]&&(!!o||null)},model:{value:e.empleado.email,callback:function(t){e.$set(e.empleado,"email",t)},expression:"empleado.email"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1)],1)],1),r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[e.editar?e._e():r("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.crear()}}},[e._v("Crear ")]),e.editar?r("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.editarempleado()}}},[e._v("Editar ")]):e._e()],1)],1)],1)},Ut=[],Bt={components:{},props:{empleado:{type:Object,default:function(){return{nombre:"",apellido:null,usuario:{username:null,password:null}}}},editar:{type:Boolean,return:!1}},data:function(){return{alerts:[]}},methods:{crear:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.datosConfigurador.validate();case 3:if(r=t.sent,!r){t.next=12;break}return console.log(e.empleado),t.next=8,U.crearEmpleado(e.empleado);case 8:a=t.sent,console.log(a),e.$root.$bvToast.toast("Se creo con exito el empleado",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaEmpleado"});case 12:t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0),e.$root.$bvToast.toast("No se pudo crear el empleado, el usuario ya existe",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()},editarempleado:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.datosConfigurador.validate();case 3:if(r=t.sent,!r){t.next=12;break}return console.log(e.empleado),t.next=8,U.editarEmpleado(e.empleado);case 8:a=t.sent,console.log(a),e.$root.$bvToast.toast("Se edito con exito el empleado",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaEmpleado"});case 12:t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0),e.$root.$bvToast.toast("No se pudo editar el empleado",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()}},computed:{}},Ht=Bt,Yt=Object(b["a"])(Ht,Vt,Ut,!1,null,null,null),Jt=Yt.exports,Zt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("p",{staticClass:"h3 text-center"},[e.editar?e._e():r("strong",[e._v("Crear una nueva Obra Social")]),e.editar?r("strong",[e._v("Editar Obra Social")]):e._e()])])],1),r("ValidationObserver",{ref:"detalleObraSocial"},[r("b-form-group",e._l(e.alerts,(function(t){return r("b-alert",{key:t.key,attrs:{dismissible:"",show:"",variant:t.variant}},[e._v(e._s(t.message))])})),1),r("b-card",{attrs:{header:"Datos Obra Social"}},[r("b-row",[r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"Nombre-label",label:"Nombre :","label-for":"Nombre"}},[r("ValidationProvider",{attrs:{name:"Nombre ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"Nombre de la Obra Social",state:!a[0]&&(!!o||null)},model:{value:e.obraSocial.nombre,callback:function(t){e.$set(e.obraSocial,"nombre",t)},expression:"obraSocial.nombre"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"telefono-label",label:"Telefono:","label-for":"Telefono"}},[r("ValidationProvider",{attrs:{name:"telefono",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{type:"tel",placeholder:"Telefono",state:!a[0]&&(!!o||null)},model:{value:e.obraSocial.telefono,callback:function(t){e.$set(e.obraSocial,"telefono",t)},expression:"obraSocial.telefono"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"email-label",label:"Direccion de correo electronico:","label-for":"email"}},[r("ValidationProvider",{attrs:{name:"email ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{type:"email",placeholder:"Direccion de email",state:!a[0]&&(!!o||null)},model:{value:e.obraSocial.email,callback:function(t){e.$set(e.obraSocial,"email",t)},expression:"obraSocial.email"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1)],1)],1),r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[e.editar?e._e():r("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.crearObraSocial()}}},[e._v("Crear Obra Social ")]),e.editar?r("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.editarObraSocial()}}},[e._v("Editar Obra Social ")]):e._e()],1)],1)],1)},Gt=[],Qt={components:{},props:{obraSocial:{type:Object,default:function(){return{nombre:"",email:null,telefono:null}}},editar:{type:Boolean,return:!1}},data:function(){return{alerts:[]}},methods:{crearObraSocial:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.detalleObraSocial.validate();case 3:if(r=t.sent,!r){t.next=10;break}return console.log(e.obraSocial),t.next=8,oe.crearObraSocial(e.obraSocial);case 8:a=t.sent,console.log(a);case 10:e.$root.$bvToast.toast("Se creo con exito la obra social",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaObrasSociales"}),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0),e.$root.$bvToast.toast("No se pudo crear la obra social",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()},editarObraSocial:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.detalleObraSocial.validate();case 3:if(r=t.sent,!r){t.next=7;break}return t.next=7,oe.editarObraSocial(e.obraSocial);case 7:e.$root.$bvToast.toast("Se edito con exito la obra social",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaObrasSociales"}),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0),e.$root.$bvToast.toast("NO se pudo editar la obra social",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()}},computed:{}},Xt=Qt,Kt=Object(b["a"])(Xt,Zt,Gt,!1,null,null,null),Wt=Kt.exports,er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[e.loading?r("div",[r("b-spinner"),r("h4",[e._v("Listado de Obras sociales")])],1):r("div",[r("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Buscar por nombre de obra social,telefono"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),r("b-input-group-append",[r("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Buscar")])],1)],1)],1),r("b-table",{attrs:{"show-empty":"","empty-text":"Todavia no hay obras sociales en el sistema",items:e.items,fields:e.fields,filter:e.filter,"current-page":e.currentPage,"per-page":e.perPage},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(acciones)",fn:function(t){return[r("b-button",{attrs:{variant:"outline-success",title:"Editar"},on:{click:function(r){return e.editar(t.item)}}},[r("b-icon",{attrs:{icon:"arrow-repeat\n",variant:"success"}})],1),r("b-button",{attrs:{variant:"outline-danger",title:"Eliminar"},on:{click:function(r){return e.siguienteEstado(t.item)}}},[r("b-icon",{attrs:{icon:"trash",variant:"danger"}})],1)]}}])}),r("b-row",[r("b-col",[r("b-form-select",{staticStyle:{width:"150px"},attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1),r("b-col",[r("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),r("br")],1)],1)])},tr=[],rr={name:"ObrasSociales",components:{},props:{},data:function(){return{perPage:10,pageOptions:[4,10,15],filter:null,currentPage:1,loading:!0,totalRows:1,fields:[{key:"nombre",label:"Nombre",class:"text-center p2"},{key:"telefono",label:"Telefono",class:"text-center p2"},{key:"email",label:"Direccion de correo",class:"text-center p2"},{key:"acciones",label:"Acciones",class:"text-center p2"}],items:[]}},created:function(){},methods:{siguienteEstado:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),r.prev=1,r.next=4,oe.deleteObra(e);case 4:a=r.sent,t.$root.$bvToast.toast("Se elimino la obra social",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),console.log(a),t.obtenerObrasSociales(),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](1),console.log(r.t0),t.$root.$bvToast.toast("No se pudo eliminar la  obra social",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))()},obtenerObrasSociales:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe.obtenerObrasSociales();case 3:r=t.sent,e.items=r.data,console.log(e.items),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},editar:function(e){this.$router.push({name:"obraSocial",params:{obraSocial:e,editar:!0}})},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}},mounted:function(){var e=this;C.a.all([this.obtenerObrasSociales()]).then((function(){e.totalRows=e.items.length,e.loading=!1})).catch((function(e){console.log(e)}))}},ar=rr,or=Object(b["a"])(ar,er,tr,!1,null,null,null),nr=or.exports,ir=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("div",[r("b-card",{attrs:{header:"Template Consentimiento informado"}},[r("div",[r("div",[r("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.verTemplate()}}},[e._v("Descargar actual ")])],1),r("div",[r("ValidationObserver",{ref:"detailsTemplate"},[r("b-form-group",{attrs:{id:"pdf-label",label:"Cargar nuevo:","label-for":"pdf"}},[r("ValidationProvider",{attrs:{name:"pdf "},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-file",{attrs:{state:Boolean(e.file1),accept:"application/pdf",placeholder:"Seleccione un nuevo Template para Consentimiento informado...","browse-text":"Buscar"},on:{change:function(t){return e.obtenerPDF(t,e.file1)}},model:{value:e.file1,callback:function(t){e.file1=t},expression:"file1"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.guardarTemplate()}}},[e._v("Guardar ")])],1)])])],1)])},sr=[],lr="",cr="/estudio_api/",ur={obtenerTemplateConsentimiento:function(){var e=JSON.parse(window.localStorage.getItem("credenciales"));C()({method:"get",url:"http://ttps-grupo07.dyndns.org:8000"+cr+lr+"templateConsentimiento/valido/",responseType:"arraybuffer",auth:{username:e.usuario,password:e.clave}}).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.download="ConsentimientoInformado.pdf",r.click()}))},editarTemplateConsentimiento:function(e){var t={consentimiento:e};return D().post(cr+"templateConsentimiento/",t)}},dr={mounted:function(){},components:{},props:{templateConsentimiento:{type:Object}},created:function(){},data:function(){return{file1:[],archivo:null}},methods:{obtenerPDF:function(e){var t=e.target.files[0];this.createBase64(t)},createBase64:function(e){var t=this,r=new FileReader;r.onload=function(e){t.archivo=e.target.result},r.readAsDataURL(e)},guardarTemplate:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.detailsTemplate.validate();case 2:if(r=t.sent,!r){t.next=16;break}return t.prev=4,a=e.archivo,console.log(a),t.next=9,ur.editarTemplateConsentimiento(a);case 9:e.$root.$bvToast.toast("Se agrego el template",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](4),console.log(t.t0),e.$root.$bvToast.toast("ocurrio un error mientras agregaba el archivo",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 16:case"end":return t.stop()}}),t,null,[[4,12]])})))()},verTemplate:function(){return Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ur.obtenerTemplateConsentimiento();case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},computed:{}},pr=dr,mr=Object(b["a"])(pr,ir,sr,!1,null,null,null),br=mr.exports,fr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("div",[r("b-card",{attrs:{header:"Modo de Trabajo"}},[r("div",[r("div",[r("select",{attrs:{name:"modo_trabajo"},on:{change:function(t){return e.guardarModo(t)}}},[r("option",{attrs:{value:"PO"},domProps:{selected:"PO"==this.modo.modo_operacion}},[e._v("Paciente obligado a completar")]),r("option",{attrs:{value:"PNO"},domProps:{selected:"PNO"==this.modo.modo_operacion}},[e._v("Paciente o Empleado pueden completar")])])])])])],1)])},vr=[],gr=(r("8f40"),r("acef"),""),hr="/admin_api/",_r={obtenerModo:function(){return D().get(hr+gr+"configuracion/")},guardarModo:function(e){return"PO"==e?D().post(hr+gr+"configuracion/",{modo_operacion:"PO"}):D().post(hr+gr+"configuracion/",{modo_operacion:"PNO"})}},kr={name:"ModoDeTrabajo",components:{},props:{},data:function(){return{modo:null}},created:function(){},methods:{obtenerHistorialModos:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_r.obtenerModo();case 3:r=t.sent,e.modo=r.data.at(-1),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},guardarModo:function(e){return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_r.guardarModo(e.target.value);case 3:r=t.sent,console.log(r),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},mounted:function(){var e=this;C.a.all([this.obtenerHistorialModos()]).then((function(){e.loading=!1})).catch((function(e){console.log(e)}))}},xr=kr,wr=Object(b["a"])(xr,fr,vr,!1,null,null,null),yr=wr.exports,Er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[e.loading?r("div",[r("b-spinner")],1):r("div",[r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("p",{staticClass:"h3 text-center"},[r("strong",[e._v(" Crear un nuevo Estudio")])])])],1),r("ValidationObserver",{ref:"detailsEstudio"},[r("b-form-group",e._l(e.alerts,(function(t){return r("b-alert",{key:t.key,attrs:{dismissible:"",show:"",variant:t.variant}},[e._v(e._s(t.message))])})),1),r("b-card",{attrs:{header:"Datos Estudio"}},[this.errorHistoriaClinica?r("b-alert",{attrs:{show:"",variant:"danger"}},[e._v("La historia clinica no puede estar vacia, por favor vaya a la seccion de lista de pacientes y complete la historia clinica del paciente")]):e._e(),r("b-row",[r("b-col",{attrs:{lg:"5",md:"5",sm:"10"}},[r("b-form-group",{attrs:{id:"paciente-label",label:"Paciente:","label-for":"Paciente"}},[r("ValidationProvider",{attrs:{name:"Paciente ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("v-select",{attrs:{placeholder:"Seleccione un paciente  ",options:e.getOptionsPacientes,value:e.pacienteSelected,sercheable:!0,responsive:"sm",size:"sm",lenguage:"en-US",state:!a[0]&&(!!o||null)},on:{input:function(t){return e.cambiarPaciente()}},model:{value:e.estudio.paciente,callback:function(t){e.$set(e.estudio,"paciente",t)},expression:"estudio.paciente"}}),""==e.estudio.paciente||null==e.estudio.paciente?r("p",{staticStyle:{color:"red","font-size":"10px"}},[e._v(" Se debe seleccionar un paciente ")]):e._e(),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"5",md:"5",sm:"10"}},[r("b-form-group",{attrs:{id:"MedicoDerivante-label",label:"Medico Derivante:","label-for":"medico"}},[r("ValidationProvider",{attrs:{name:"Medico derivante ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("v-select",{attrs:{placeholder:"Seleccione un medico derivante  ",options:e.getOptionsMedicoDerivante,value:e.medicoDerivanteSelected,sercheable:!0,responsive:"sm",size:"sm",lenguage:"en-US",state:!a[0]&&(!!o||null)},model:{value:e.estudio.medico_derivante,callback:function(t){e.$set(e.estudio,"medico_derivante",t)},expression:"estudio.medico_derivante"}}),""==e.estudio.medico_derivante||null==e.estudio.medico_derivante?r("p",{staticStyle:{color:"red","font-size":"10px"}},[e._v(" Se debe seleccionar un medico derivante ")]):e._e(),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1),r("b-row",[r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"estudio-label",label:"Tipo de Estudio:","label-for":"estudio"}},[r("ValidationProvider",{attrs:{name:"Tipo de estudio ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-select",{attrs:{options:e.getTipoEstudios,state:!a[0]&&(!!o||null)},model:{value:e.estudio.tipo_estudio,callback:function(t){e.$set(e.estudio,"tipo_estudio",t)},expression:"estudio.tipo_estudio"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"3",md:"2"}},[r("b-form-group",{attrs:{id:"nacimiento-label",label:"Fecha Alta :","label-for":"Fecha Alta"}},[r("ValidationProvider",{attrs:{name:"Fecha-alta ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{locale:"es-AR",type:"date",state:!a[0]&&(!!o||null)},model:{value:e.estudio.fecha_alta,callback:function(t){e.$set(e.estudio,"fecha_alta",t)},expression:"estudio.fecha_alta"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1),r("b-row",[r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"pdf-label",label:"Presupuesto del estudio:","label-for":"Presupuesto del estdio"}},[r("ValidationProvider",{attrs:{rules:"required",name:"Presupuesto del estdio "},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-file",{attrs:{state:!a[0]&&(!!e.valid||null),accept:"application/pdf",placeholder:"Seleccione el presupuesto...","drop-placeholder":"Drop file here...","browse-text":"Buscar"},on:{change:function(t){return e.obtenerPDF(t,e.file1)}},model:{value:e.file1,callback:function(t){e.file1=t},expression:"file1"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"5",md:"5",sm:"10"}},[r("b-form-group",{attrs:{id:"diagnostico-label",label:"Diagnostico:","label-for":"diagnostico"}},[r("ValidationProvider",{attrs:{name:"diagnostico ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("v-select",{attrs:{placeholder:"Seleccione un diagnostico  ",options:e.getOptionsDiagnosticos,value:e.diagnosticoSelected,sercheable:!0,responsive:"sm",size:"sm",lenguage:"en-US",state:!a[0]&&(!!o||null)},on:{input:function(t){return e.cambiarDiagnostico()}},model:{value:e.estudio.diagnostico,callback:function(t){e.$set(e.estudio,"diagnostico",t)},expression:"estudio.diagnostico"}}),""==e.estudio.diagnostico||null==e.estudio.diagnostico?r("p",{staticStyle:{color:"red","font-size":"10px"}},[e._v(" Se debe seleccionar un diagnostico ")]):e._e(),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1)],1),r("b-card",{attrs:{header:"Historia clinica"}},[r("b-row",[r("b-col",[r("b-form-group",{attrs:{id:"historiaclinica-label","label-for":"observaciones"}},[r("ValidationProvider",{attrs:{name:"historiaclinica "},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("vue-editor",{attrs:{state:!a[0]&&(!!o||null)},model:{value:e.estudio.diagnostico_presuntivo,callback:function(t){e.$set(e.estudio,"diagnostico_presuntivo",t)},expression:"estudio.diagnostico_presuntivo"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1)],1)],1),r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("b-button",{attrs:{variant:"outline-success",id:"btnAgrandar"},on:{click:function(t){return e.crearEstudio()}}},[e._v("Crear Estudio ")])],1)],1)],1)])},Pr=[],Rr={components:{VueEditor:ne["a"]},props:{},created:function(){},data:function(){return{valid:null,errorHistoriaClinica:!1,pacienteSelected:null,medicoDerivanteSelected:null,diagnosticoSelected:null,estudios:[],pacientes:[],medicosDerivantes:[],diagnosticosLista:[],file1:[],alerts:[],loading:!0,historiaClinicaPaciente:null,estudio:{paciente:"",medico_derivante:"",tipo_estudio:null,fecha_alta:null,diagnostico_presuntivo:null,diagnostico:null,presupuesto:null}}},methods:{cambiarPaciente:function(){this.obtenerHistoriaClinicaPaciente()},cambiarDiagnostico:function(){console.log(this.estudio)},crearEstudio:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.detailsEstudio.validate();case 3:if(r=t.sent,!r){t.next=14;break}if(null!=e.estudio.diagnostico_presuntivo){t.next=8;break}return e.errorHistoriaClinica=!0,t.abrupt("return");case 8:return e.errorHistoriaClinica=!1,t.next=11,ke.crearEstudio(e.estudio);case 11:a=t.sent,console.log(a.status),200==a.status&&(e.$root.$bvToast.toast("Se creo con exito el estudio",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaEstudios"}));case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),e.$root.$bvToast.toast("Ocurrio un error al crear el estudio",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))()},obtenerObrasSociales:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe.obtenerObrasSociales();case 3:r=t.sent,e.obras_sociales=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},obtenerMedicosDerivantes:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.obtenerMedicosDerivantes();case 3:r=t.sent,e.medicosDerivantes=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},obtenerPacientes:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.obtenerPacientes();case 3:r=t.sent,e.pacientes=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},obtenerHistoriaClinicaPaciente:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.obtenerPaciente(e.estudio.paciente.id);case 3:r=t.sent,e.estudio.diagnostico_presuntivo=r.data.historia_clinica,console.log(r.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},obtenerEstudios:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke.obtenerEstudios();case 3:r=t.sent,e.estudios=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},obtenerDiagnosticos:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke.obtenerDiagnosticos();case 3:r=t.sent,e.diagnosticosLista=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},obtenerPDF:function(e){var t=e.target.files[0];this.createBase64(t),console.log(this.estudio)},createBase64:function(e){var t=this,r=new FileReader;r.onload=function(e){t.estudio.presupuesto=e.target.result},r.readAsDataURL(e)}},computed:{usuario:function(){return I.getApiToken().usuario},getTipoEstudios:function(){var e=this.estudios.map((function(e){return{value:e.id,text:e.nombre}}));return e.push({value:null,text:"-Seleccione un estudio -",disabled:!0}),e},getOptionsPacientes:function(){var e=this.pacientes.map((function(e){return{id:e.id,label:e.nombre+" "+e.apellido}}));return e},getOptionsMedicoDerivante:function(){var e=this.medicosDerivantes.map((function(e){return{id:e.id,label:e.nombre+" "+e.apellido}}));return e},getOptionsDiagnosticos:function(){var e=this.diagnosticosLista.map((function(e){return{id:e.id,label:e.nombre}}));return e}},mounted:function(){var e=this;C.a.all([this.obtenerObrasSociales(),this.obtenerPacientes(),this.obtenerEstudios(),this.obtenerDiagnosticos(),this.obtenerMedicosDerivantes()]).then((function(){e.loading=!1})).catch((function(e){console.log(e)}))}},jr=Rr,$r=(r("8025"),Object(b["a"])(jr,Er,Pr,!1,null,"31a108d0",null)),Or=$r.exports,Sr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{staticClass:"bv-example-row"},[e.loading?r("div",[r("b-spinner")],1):r("div",[r("b-col",{staticClass:"text-left"},[r("router-link",{attrs:{to:"/listaEstudios"}},[r("b-icon",{attrs:{icon:"arrow-left-circle"}})],1)],1),r("b-card",{attrs:{header:e.estudio.paciente.apellido+" "+e.estudio.paciente.nombre,"header-text-variant":"white",align:"center","header-bg-variant":"secondary",title:"Datos del estudio","sub-title":"Creado "+e.estudio.fecha_alta}},[r("br"),r("b-card-text",[r("b-row",[r("b-col",[r("b",[e._v(" Medico Derivante: ")]),e._v(" "+e._s(e.estudio.medico_derivante.apellido)+" "+e._s(e.estudio.medico_derivante.nombre)+" ")]),r("b-col",[r("b",[e._v(" Tipo de estudio: ")]),e._v(e._s(e.estudio.tipo.nombre)+" ")])],1),r("br"),r("b-row",[r("b-col",[r("b",[e._v(" Diagnostico Presuntivo: ")]),e._v(e._s(e.estudio.diagnostico.nombre)+" "),r("br")]),r("b-col",[r("strong",[e._v(" Estado actual: ")]),e._v(e._s(e.obtenerUltimoEstado()))])],1),r("b-row",[r("b-col",[r("p",[r("strong",[e._v(" Historia clinica: ")])]),r("a",{attrs:{title:"ver Historia clinica",variant:"outline-success"},on:{click:function(t){return e.verHistoria()}}},[r("b-icon",{attrs:{icon:"eye",variant:"info"}})],1)]),r("b-col",[r("p",[r("strong",[e._v("Presupuesto:")])]),r("a",{attrs:{title:"Descargar Presupuesto",variant:"outline-success",download:"presupuesto.pdf"},on:{click:function(t){return e.bajarPresupuesto()}}},[r("b-icon",{attrs:{icon:"download",variant:"info"}})],1)])],1)],1)],1),r("b-container",{staticClass:"text-center",attrs:{fluid:""}},e._l(e.estados,(function(t){return r("div",{key:t.id},[r("b-card-group",{attrs:{deck:""}},["EsperandoComprobanteDePago"==t.resourcetype?r("b-card",{attrs:{header:"Comprobante pago","header-text-variant":"white",align:"center","header-bg-variant":"secondary"}},[r("b-card-text",[r("strong",[e._v(" Fecha envio:")]),e._v(" "+e._s(e.mostrarFecha(t.fecha))+" "),null!=t.comprobante?r("a",{attrs:{title:"Descargar Comprobante de pago",variant:"outline-success",download:"pago.pdf"},on:{click:function(t){return e.bajarPago()}}},[r("br"),r("b-icon",{attrs:{icon:"download",variant:"info"}})],1):e._e(),r("br")])],1):e._e(),"EsperandoConsentimientoInformado"==t.resourcetype?r("b-card",{attrs:{header:"Consentimiento Informado","header-text-variant":"white",align:"center","header-bg-variant":"secondary"}},[r("b-card-text",[r("strong",[e._v(" Fecha :")]),e._v(" "+e._s(e.mostrarFecha(t.fecha))+" "),null!=t.consentimiento?r("a",{attrs:{title:"Descargar consentimiento firmado",variant:"outline-success",download:"consentimiento.pdf"},on:{click:function(t){return e.bajarConsentimiento()}}},[r("br"),r("b-icon",{attrs:{icon:"download",variant:"info"}})],1):e._e(),r("br")])],1):e._e()],1),r("b-card-group",{attrs:{deck:""}},[r("b-col",["AnuladorPorFaltaDePago"==t.resourcetype?r("b-card",{attrs:{deck:"",header:"Estudio anulado por falta de pago","header-text-variant":"white",align:"center","header-bg-variant":"danger"}},[r("br"),r("b-card-text",[r("b-alert",{attrs:{show:"",variant:"danger"}},[e._v("Atencion! este estudio fue anulado por falta de pago")])],1)],1):e._e()],1)],1),r("b-card-group",{attrs:{deck:""}},[r("b-col",["EsperandoSeleccionDeTurnoParaExtraccion"==t.resourcetype?r("b-card",{attrs:{deck:"",header:"Turnos","header-text-variant":"white",align:"center","header-bg-variant":"secondary"}},[r("br"),r("b-card-text",[null!=t.turno?r("div",[r("strong",[e._v(" Turno:")]),e._v(" "+e._s(e.mostrarFecha(t.turno.inicio))+" "),r("li",[e._v(" Inicio "+e._s(e.mostrarminutos(t.turno.inicio))+" ")]),r("li",[e._v("Fin: "+e._s(e.mostrarminutos(t.turno.fin)))]),null!=t.turno.cancelado?r("small",{attrs:{id:"turnoCancelado"}},[e._v("Este turno fue cancelado")]):e._e(),e.verificarCancelar(t)?r("b-button",{attrs:{variant:"outline-danger"},on:{click:function(r){return e.cancelarTurno(t.turno.id)}}},[e._v("Cancelar")]):e._e()],1):r("div",[r("small",[e._v(" No selecciono turno")])]),r("br")])],1):e._e()],1)],1),r("b-card-group",{attrs:{deck:""}},[r("b-col",["EsperandoTomaDeMuestra"==t.resourcetype?r("b-card",{attrs:{deck:"",header:"Toma de muestra","header-text-variant":"white",align:"center","header-bg-variant":"secondary"}},[r("br"),r("b-card-text",[null!=t.mililitros?r("div",[r("strong",[e._v(" Fecha:")]),e._v(" "+e._s(e.mostrarFecha(t.fecha_muestra))+" "),null!=t.freezer?r("li",[e._v(" Frezeer: "+e._s(t.freezer)+" ")]):e._e(),r("li",[e._v("Mililitros: "+e._s(t.mililitros))]),r("li",[e._v("Expiro: "+e._s(e.expiroToma(t.expirado)))])]):r("div",[r("small",[e._v(" No se cargaron los datos de la muestra")])]),r("br")])],1):e._e()],1)],1),r("b-card-group",{attrs:{deck:""}},[r("b-col",["EsperandoRetiroDeExtaccion"==t.resourcetype?r("b-card",{attrs:{deck:"",header:"Retiro de la extraccion","header-text-variant":"white",align:"center","header-bg-variant":"secondary"}},[r("br"),null!=t.fecha_retiro?r("b-card-text",[r("div",[r("strong",[e._v(" Fecha de retiro:")]),e._v(" "+e._s(e.mostrarFecha(t.fecha_retiro))+" "),r("br"),r("strong",[e._v("Extraccionista:")]),e._v(" "+e._s(t.extracionista)+" ")]),r("br")]):e._e()],1):e._e()],1)],1),r("b-card-group",{attrs:{deck:""}},[r("b-col",["EsperandoLoteDeMuestraParaProcesamientoBiotecnologico"==t.resourcetype?r("b-card",{attrs:{deck:"",header:"Retiro de la extraccion","header-text-variant":"white",align:"center","header-bg-variant":"secondary"}},[r("br"),r("b-card-text",[null!=t.numero_lote?r("div",[r("strong",[e._v(" Fecha :")]),e._v(" "+e._s(e.mostrarFecha(t.fecha))+" "),r("br"),r("strong",[e._v("Procesado en el lote:")]),e._v(" "+e._s(t.numero_lote)+" ")]):r("div",[r("small",[e._v(" El estudio no se proceso en ningun lote")])]),r("br")])],1):e._e()],1)],1),r("b-card-group",{attrs:{deck:""}},[r("b-col",["EsperandoProcesamientoDeLoteBiotecnologico"==t.resourcetype?r("b-card",{attrs:{deck:"",header:"Resultado del lote","header-text-variant":"white",align:"center","header-bg-variant":"secondary"}},[r("br"),r("b-card-text",[null!=t.fecha_resultado?r("div",[r("strong",[e._v(" Fecha :")]),e._v(" "+e._s(e.mostrarFecha(t.fecha_resultado))+" "),r("br"),r("strong",[e._v("Url : ")]),r("a",{attrs:{href:t.resultado_url,target:"_blank"}},[r("b-icon",{attrs:{icon:"link",variant:"info"}}),e._v("Click para Acceder a el informe!")],1)]):r("div",[r("small",[e._v(" No se cargo la url del resultado")])]),r("br")])],1):e._e()],1)],1),r("b-card-group",{attrs:{deck:""}},[r("b-col",["EsperandoInterpretacionDeResultados"==t.resourcetype?r("b-card",{attrs:{deck:"",header:"Resultado del medico informante","header-text-variant":"white",align:"center","header-bg-variant":"secondary"}},[r("br"),r("b-card-text",[null!=t.fecha_informe?r("div",[r("strong",[e._v(" Fecha :")]),e._v(" "+e._s(e.mostrarFecha(t.fecha_informe))+" "),r("br"),r("strong",[e._v("Resultado:")]),e._v(" "+e._s(t.resultado)+" "),r("br"),r("strong",[e._v("Medico:")]),e._v(" "+e._s(t.medico_informante.nombre)+" "+e._s(t.medico_informante.apellido)+" "),r("br"),r("p",[r("strong",[e._v("Informe: ")])]),r("a",{attrs:{title:"ver Informe del resultado",variant:"outline-success"},on:{click:function(t){return e.bajarInforme()}}},[r("b-icon",{attrs:{icon:"download",variant:"info"}})],1)]):r("div",[r("small",[e._v(" Esperando que el medico informante carge los datos")])]),r("br")])],1):e._e()],1)],1),r("b-card-group",{attrs:{deck:""}},[r("b-col",["ResultadoDeEstudioEntregado"==t.resourcetype?r("b-card",{attrs:{deck:"",header:"Estudio entregado","header-text-variant":"white",align:"center","header-bg-variant":"success"}},[r("br"),r("b-card-text",[null!=t.fecha?r("div",[r("strong",[e._v(" Fecha :")]),e._v(" "+e._s(e.mostrarFecha(t.fecha))+" "),r("br")]):e._e(),r("br")])],1):e._e()],1)],1),r("b-card-group",{attrs:{deck:""}},[r("b-col",["EstadoVirtualEsperandoResultado"==t.resourcetype?r("b-card",{attrs:{deck:"",header:"Entrega del estudio","header-text-variant":"white",align:"center","header-bg-variant":"secondary"}},[r("br"),r("b-card-text",[null!=t.fecha?r("div",[r("strong",[e._v(" Fecha :")]),e._v(" "+e._s(e.mostrarFecha(t.fecha))+" "),r("br"),null!=t.numero_lote?r("strong",[e._v(" Numero de lote :")]):e._e(),e._v(" "+e._s(t.numero_lote)+" "),r("br"),null!=t.informe?r("strong",[e._v(" Informe : "),r("a",{attrs:{title:"ver Informe del resultado",variant:"outline-success"},on:{click:function(t){return e.bajarInforme()}}},[r("b-icon",{attrs:{icon:"download",variant:"info"}})],1)]):e._e(),r("br")]):e._e(),r("br")])],1):e._e()],1)],1)],1)})),0),null!=this.estudio.paciente.historia_clinica?r("div",[r("b-modal",{ref:"modalHistoriaCLinica",attrs:{"ok-only":"",title:"Historia clinica"}},[r("div",{domProps:{innerHTML:e._s(this.estudio.paciente.historia_clinica)}})])],1):e._e()],1)])},Cr=[],Dr="",Tr="/turnos_api/",Ir={obtenerTurnos:function(e){return D().get(Tr+Dr+"turnos_disponibles/",{params:{inicio:e.inicio,fin:e.fin}})},confirmarTurno:function(e){return D().post(Tr+Dr+"turnos_confirmados/",e)},obtenerTurnosOcupados:function(){return D().get(Tr+Dr+"turnos_confirmados/")},cancelarTurno:function(e){return D().delete(Tr+Dr+"turnos_confirmados/"+e)},fechaSinTurnos:function(e){return D().post(Tr+Dr+"fechas_sin_turnos/",e)},obtenerFechasSinTurnos:function(){return D().get(Tr+Dr+"fechas_sin_turnos/")},eliminarFechaExcepcion:function(e){return D().delete(Tr+Dr+"fechas_sin_turnos/"+e)},agregarRangoTurnos:function(e){return D().post(Tr+Dr+"parametro_turnos/",e)},obtenerRangos:function(){return D().get(Tr+Dr+"parametro_turnos/")},eliminarRango:function(e){return D().delete(Tr+Dr+"parametro_turnos/"+e)}},Ar={name:"detalleDeEstudio",components:{},props:{estudioId:{type:String,default:null}},data:function(){return{loading:!0,perPage:4,ultimoEstado:null,itemsEst:[],alerts:[],fieldsEst:[{key:"nombre",label:"Nombre",class:"text-center p2"},{key:"medico_derivante",label:"Medico derivante",class:"text-center p2"},{key:"tipo",label:"Tipo Estudio",class:"text-center p2"}],pageOptions:[4,10,15],filter:null,currentPage:1,totalRows:1,items:[],noPuedeCancelarTurno:!1,estados:[],fields:[{key:"id",label:"Numero",class:"text-center p2"},{key:"fecha",label:"Fecha Creacion",class:"text-center p2"},{key:"acciones",label:"Acciones",class:"text-center p2"}]}},created:function(){null==this.estudioId&&this.$router.push({name:"listaEstudios"})},methods:{verificarCancelar:function(e){return this.noPuedeCancelarTurno?!this.noPuedeCancelarTurno:new Date(e.turno.inicio)>new Date&&null==e.turno.cancelado&&null==e.fecha_muestra},cancelarTurno:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Ir.cancelarTurno(e);case 3:a=r.sent,200==a.status&&(t.obtenerDetalleEstudio(),t.$root.$bvToast.toast("Usted cancelo el turno",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"info"})),r.next=11;break;case 7:r.prev=7,r.t0=r["catch"](0),console.log(r.t0),t.$root.$bvToast.toast("No puede cancelar el turno ",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 11:case"end":return r.stop()}}),r,null,[[0,7]])})))()},obtenerDetalleEstudio:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke.obtenerEstudio(e.estudioId);case 3:r=t.sent,e.estudio=r.data,e.estados=e.ordenarEstados(r.data.estados),console.log(e.estudio),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},ordenarEstados:function(e){return e.sort((function(e,t){return e.fecha>t.fecha?1:e.fecha<t.fecha?-1:0})),e},mostrarminutos:function(e){return new Date(e).formatTime()},mostrarFecha:function(e){return new Date(e).format("DD-MM-YYYY")},obtenerUltimoEstado:function(){var e=this.estudio.ultimo_estado.resourcetype;return e=e.replace(/([a-z])([A-Z])/g,"$1 $2"),e=e.replace(/([A-Z])([A-Z][a-z])/g,"$1 $2"),e},verHistoria:function(){this.$refs["modalHistoriaCLinica"].show()},bajarInforme:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke.descargarInformeDeResultado(e.estudio.id);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},bajarPresupuesto:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke.descargarPresupuesto(e.estudioId);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},bajarPago:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke.descargarPago(e.estudioId);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},expiroToma:function(e){return this.noPuedeCancelarTurno=!0,1==e?"Si":"No"},bajarConsentimiento:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke.descargarConsentimiento(e.estudioId);case 3:r=t.sent,console.log(r),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},computed:{},mounted:function(){var e=this;C.a.all([this.obtenerDetalleEstudio()]).then((function(){e.loading=!1})).catch((function(e){console.log(e)}))}},qr=Ar,Fr=(r("3eff"),Object(b["a"])(qr,Sr,Cr,!1,null,null,null)),Lr=Fr.exports,Mr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("div",[r("ValidationObserver",{ref:"detailsEstudio"},[r("b-col",{attrs:{lg:"5",md:"5"}},[r("b-form-group",{attrs:{id:"pdf-label",label:"Ingrese la factura del estudio:","label-for":"pdf"}},[r("ValidationProvider",{attrs:{name:"pdf "},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-file",{attrs:{state:Boolean(e.file1),accept:"application/pdf",placeholder:"Seleccione la factura...","drop-placeholder":"Drop file here..."},on:{change:function(t){return e.obtenerPDF(t,e.file1)}},model:{value:e.file1,callback:function(t){e.file1=t},expression:"file1"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1)],1)])},Nr=[],zr={components:{},props:{},created:function(){},data:function(){return{file1:[]}},methods:{obtenerPDF:function(e,t){console.log(e,t)}},computed:{},mounted:function(){}},Vr=zr,Ur=Object(b["a"])(Vr,Mr,Nr,!1,null,null,null),Br=Ur.exports,Hr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("div",[r("br"),r("b-card",{attrs:{header:"Estudio esperando ingreso del comprobante pago"}},[r("div",[r("b-row",[r("b-col",[r("ValidationObserver",{ref:"detailsComprobante"},[r("b-form-group",{attrs:{id:"pdf-label","label-for":"pdf"}},[r("ValidationProvider",{attrs:{rules:"required",name:"Comprobante "},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-file",{attrs:{state:Boolean(e.file1),accept:"application/pdf",placeholder:"Seleccione el comprobante de pago...","browse-text":"Buscar",id:"file-default"},on:{change:function(t){return e.obtenerPDF(t,e.file1)}},model:{value:e.file1,callback:function(t){e.file1=t},expression:"file1"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1)],1)],1),r("div",{staticClass:"counter"},[e._v(" Quedan "+e._s(e.counter)+" dias para subir el comprobante de pago ")]),r("div",[r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.guardarComprobante()}}},[e._v("Guardar ")])],1)],1)],1)])],1)])},Yr=[],Jr={components:{},props:{estudio:{type:Object}},data:function(){return{file1:null,counter:0,comprobantePago:null}},created:function(){console.log(this.estudio);var e=new Date(this.estudio.ultimo_estado.fecha);this.counter=new Date,this.counter=this.difference(e.getDate(),this.counter.getDate())},methods:{difference:function(e,t){var r=30;return r-(t-e)},obtenerPDF:function(e){var t=e.target.files[0];this.createBase64(t)},createBase64:function(e){var t=this,r=new FileReader;r.onload=function(e){t.comprobantePago=e.target.result},r.readAsDataURL(e)},guardarComprobante:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.detailsComprobante.validate();case 2:if(r=t.sent,!r){t.next=17;break}return t.prev=4,a={estudio_id:e.estudio.id,resourcetype:e.estudio.ultimo_estado.resourcetype,comprobante:{contenido:e.comprobantePago}},t.next=8,ke.actualizarUltimoEstado(a,e.estudio.ultimo_estado.id);case 8:e.$root.$bvToast.toast("Se agrego el comprobante de pago",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaEstudios"}),t.next=17;break;case 12:t.prev=12,t.t0=t["catch"](4),console.log("errors"),console.log(t.t0.response),e.$root.$bvToast.toast("ocurrio un error mientras agregaba el comprobante de pago, verifique el modo de operacion ",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 17:case"end":return t.stop()}}),t,null,[[4,12]])})))()}},computed:{},mounted:function(){}},Zr=Jr,Gr=Object(b["a"])(Zr,Hr,Yr,!1,null,null,null),Qr=Gr.exports,Xr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("b-alert",{attrs:{show:"",variant:"danger"}},[a("h5",[e._v("Atencion! este estudio fue anulado por falta de pago")])]),a("br"),a("div",[a("img",{staticClass:"rounded",staticStyle:{width:"60%"},attrs:{src:r("faa9"),alt:"...",id:"imgLaboratorio"}})])],1)},Kr=[],Wr={},ea=Wr,ta=Object(b["a"])(ea,Xr,Kr,!1,null,null,null),ra=ta.exports,aa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("div",[r("b-card",{attrs:{header:"Descargar Template de consentimiento informado en formato pdf"}},[r("div",[e.hasRol("Empleados")?r("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.volverComprobanteInvalido()}}},[e._v("Comprobante invalido ")]):e._e(),r("b-button",{attrs:{id:"btnConsentimiento",variant:"outline-primary",title:"Descargar consentimiento"},on:{click:function(t){return e.verTemplate()}}},[r("b-icon",{attrs:{icon:"cloud-download",variant:"outline-primary"}})],1),e.hasRol("Empleados")?r("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.siguienteEstado()}}},[e._v("Siguiente ")]):e._e()],1)])],1)])},oa=[],na={components:{},props:{estudio:{type:Object}},created:function(){},data:function(){return{}},methods:{verTemplate:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ur.obtenerTemplateConsentimiento(e.estudio.id);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},volverComprobanteInvalido:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={estudio_id:e.estudio.id,comprobante_invalido:!0,resourcetype:e.estudio.ultimo_estado.resourcetype},t.next=4,ke.actualizarUltimoEstado(r,e.estudio.ultimo_estado.id);case 4:e.$root.$bvToast.toast("Se cancelo el comprobante de pago",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaEstudios"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$root.$bvToast.toast("ocurrio un error mientras volvia atras el comprobante",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},siguienteEstado:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={estudio_id:e.estudio.id,fecha_enviado:new Date,resourcetype:e.estudio.ultimo_estado.resourcetype},t.next=4,ke.actualizarUltimoEstado(r,e.estudio.ultimo_estado.id);case 4:a=t.sent,e.$root.$bvToast.toast("Se descargo el consentimiento y el estudio continua al proximo estado",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),console.log(a),e.$router.push({name:"listaEstudios"}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.$root.$bvToast.toast("ocurrio un error mientras continuaba con el siguiente estado.  "+t.t0.response.data.detail,{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},tienePermisos:function(){return this.permisos=window.localStorage.getItem("permisos"),this.permisos}},computed:Object(d["a"])({},Object(o["c"])(["hasRol"])),mounted:function(){}},ia=na,sa=(r("9016"),Object(b["a"])(ia,aa,oa,!1,null,"040f3390",null)),la=sa.exports,ca=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("div",[r("b-card",{attrs:{header:"Consentimiento informado firmado por el paciente"}},[r("b-row",[r("b-col",{staticClass:"text-center pt-3"},[r("ValidationObserver",{ref:"detailsConsentimiento"},[r("b-form-group",{attrs:{id:"pdf-label","label-for":"pdf"}},[r("ValidationProvider",{attrs:{rules:"required",name:"consentimiento informado "},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-file",{attrs:{state:!a[0]&&(!!o||null),accept:"application/pdf",placeholder:"Seleccione el consentimiento informado..","browse-text":"Buscar"},on:{change:function(t){return e.obtenerPDF(t,e.file1)}},model:{value:e.file1,callback:function(t){e.file1=t},expression:"file1"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1)],1),r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.guardarConsentimiento()}}},[e._v("Guardar ")])],1)],1)],1)],1)])},ua=[],da={components:{},props:{estudio:{type:Object}},created:function(){},data:function(){return{file1:[],consentimiento:null}},methods:{obtenerPDF:function(e){var t=e.target.files[0];this.createBase64(t)},createBase64:function(e){var t=this,r=new FileReader;r.onload=function(e){t.consentimiento=e.target.result},r.readAsDataURL(e)},guardarConsentimiento:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.detailsConsentimiento.validate();case 3:if(r=t.sent,!r){t.next=12;break}return a={estudio_id:e.estudio.id,resourcetype:e.estudio.ultimo_estado.resourcetype,consentimiento:{contenido:e.consentimiento}},t.next=8,ke.actualizarUltimoEstado(a,e.estudio.ultimo_estado.id);case 8:o=t.sent,console.log(o),e.$root.$bvToast.toast("Se ingreso el consentimiento firmado",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaEstudios"});case 12:t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0),e.$root.$bvToast.toast("Ocurrio un error mientras ingresaba el consentimiento firmado,verifique el modo de operacion",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()}},computed:{},mounted:function(){}},pa=da,ma=Object(b["a"])(pa,ca,ua,!1,null,null,null),ba=ma.exports,fa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("div",[r("h3",[e._v("Seleccion de turno para un paciente")]),r("h5",[e._v(" Paciente: "+e._s(e.estudio.paciente.apellido)+" "+e._s(e.estudio.paciente.nombre)+" ")]),e.loading?r("div",[r("b-spinner")],1):r("div",[r("vue-cal",{ref:"vuecal",staticClass:"vuecal--full-height-delete",staticStyle:{height:"600px"},attrs:{"active-view":"years","disable-views":["years","day"],"time-step":15,"disable-days":this.turnos,"snap-to-time":this.tiempoTurnos,locale:"es",events:e.getPacientes,"on-event-click":e.onEventClick},on:{"view-change":function(t){return e.logEvents("view-change",t)}}})],1),r("b-modal",{ref:"my-modal",attrs:{title:e.selectedEvent.title},on:{ok:function(t){return e.confirmarTurno(e.selectedEvent.start,e.selectedEvent.end)}}},[r("div",[null!=e.selectedEvent.start?r("p",[e._v(" Turno seleccionado "+e._s(e.selectedEvent.start.format("DD/MM/YYYY"))+" ")]):e._e()]),r("p",{domProps:{innerHTML:e._s(e.selectedEvent.contentFull)}}),r("strong",[e._v("Detalles:")]),r("ul",[null!=e.selectedEvent.start?r("li",[e._v(" Inicio "+e._s(e.selectedEvent.start&&e.selectedEvent.start.formatTime())+" ")]):e._e(),null!=e.selectedEvent.end?r("li",[e._v(" Fin: "+e._s(e.selectedEvent.end&&e.selectedEvent.end.formatTime())+" ")]):e._e()])])],1)])},va=[],ga=r("7fa7"),ha=r.n(ga),_a=(r("b55b"),r("4921"),{components:{VueCal:ha.a},props:{estudio:{type:Object}},data:function(){return{rangoCelda:{inicio:null,fin:null},tiempoTurnos:15,loading:!1,turnos:[],showDialog:!1,selectedEvent:{},paciente:null,pacientes:[]}},methods:{logEvents:function(e,t){var r;r="month"==t.view?{inicio:t.firstCellDate.toISOString(),fin:t.lastCellDate.toISOString()}:{inicio:t.startDate.toISOString(),fin:t.endDate.toISOString()},this.rangoCelda.inicio=r.inicio,this.rangoCelda.fin=r.fin,this.buscarTurnos(r)},buscarTurnos:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Ir.obtenerTurnos(e);case 3:a=r.sent,t.turnos=a.data,r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},onEventClick:function(e,t){this.selectedEvent=e,this.selectedEvent.start<new Date?this.$root.$bvToast.toast("Esta seleccionando un turno con una fecha o hora que ya paso, por favor seleccione otro turno",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"}):(this.showDialog=!0,this.$refs["my-modal"].show(),t.stopPropagation())},confirmarTurno:function(e,t){var r=this;return Object(O["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,o={turno:{inicio:e.toISOString(),fin:t.toISOString()},estudio_id:r.estudio.id,resourcetype:r.estudio.ultimo_estado.resourcetype},a.next=4,ke.actualizarUltimoEstado(o,r.estudio.ultimo_estado.id);case 4:r.$root.$bvToast.toast("Se selecciono el turno para el paciente ",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),r.$router.push({name:"listaEstudios"}),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),r.$root.$bvToast.toast("no se pudo seleccionar el turno para el paciente,verifique el modo de opreacion ",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()}},computed:{getPacientes:function(){var e=this.turnos.map((function(e){return{start:new Date(e.inicio),end:new Date(e.fin),title:"Disponible"}}));return e}},mounted:function(){}}),ka=_a,xa=Object(b["a"])(ka,fa,va,!1,null,"0e95876b",null),wa=xa.exports,ya=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("div",[r("ValidationObserver",{ref:"detailMuestra"},[r("b-card",{attrs:{header:"Ingrese los datos de toma de muestra"}},[r("br"),r("b-row",[r("b-col",{attrs:{lg:"5",md:"5",sm:"10"}},[r("b-form-group",{attrs:{id:"mililitros-label",label:"Cantidad de mililitros:","label-for":"mililitros"}},[r("ValidationProvider",{attrs:{name:"mililitros ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"Ingrese los mililitros",type:"range",min:"5",max:"12.5",step:"0.1",state:!a[0]&&(!!o||null)},model:{value:e.mililitros,callback:function(t){e.mililitros=t},expression:"mililitros"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1),r("div",{staticClass:"mt-2"},[e._v("Cantidad: "+e._s(e.mililitros))])],1),r("b-col",{attrs:{lg:"1"}}),r("b-col",{attrs:{lg:"3",md:"3",sm:"10"}},[r("b-form-group",{attrs:{id:"freezer-label",label:"Numero de freezer:","label-for":"freezer"}},[r("ValidationProvider",{attrs:{name:"freezer ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{type:"number",min:"1",placeholder:"Ingrese el freezer",state:!a[0]&&(!!o||null)},model:{value:e.freezer,callback:function(t){e.freezer=t},expression:"freezer"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1),r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.guardarDatos()}}},[e._v("Guardar ")])],1)],1)],1)],1)],1)])},Ea=[],Pa={components:{},props:{estudio:{type:Object}},created:function(){console.log(this.estudio);var e=new Date(this.estudio.ultimo_estado.turno.inicio);this.counter=new Date,this.counter=this.difference(e.getDate(),this.counter.getDate())},data:function(){return{freezer:1,mililitros:5,counter:0}},methods:{difference:function(e,t){var r=30;return r-(t-e)},pasoDiaTurno:function(){var e=new Date(this.estudio.ultimo_estado.turno.inicio);return!(e<new Date)},guardarDatos:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.detailMuestra.validate();case 3:if(r=t.sent,!r){t.next=10;break}return a={estudio_id:e.estudio.id,freezer:e.freezer,mililitros:e.mililitros,fecha_muestra:new Date,expirado:!1,resourcetype:e.estudio.ultimo_estado.resourcetype},t.next=8,ke.actualizarUltimoEstado(a,e.estudio.ultimo_estado.id);case 8:e.$root.$bvToast.toast("Se ingresaron los datos de la muestra",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaEstudios"});case 10:t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0),e.$root.$bvToast.toast("no se pudieron guardar los datos de la muestra, intente nuevamente",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()}},computed:{},mounted:function(){}},Ra=Pa,ja=Object(b["a"])(Ra,ya,Ea,!1,null,null,null),$a=ja.exports,Oa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("div",[r("ValidationObserver",{ref:"detailsExtraccion"},[r("b-card",{attrs:{header:"Ingrese quien realizo el retiro de extraccion"}},[r("b-row",[r("b-col",{attrs:{lg:"7",md:"7",sm:"10"}},[r("b-form-group",{attrs:{id:"retiro-label",label:"Nombre de la persona que retiro la muestra:","label-for":"retiro"}},[r("ValidationProvider",{attrs:{name:"retiro extraccion ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"Ingrese el nombre y apellido de la persona que retiro la muestra",state:!a[0]&&(!!o||null)},model:{value:e.retiro,callback:function(t){e.retiro=t},expression:"retiro"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1),r("b-col",{attrs:{lg:"3",md:"2"}},[r("b-form-group",{attrs:{id:"fecha-label",label:"Fecha retiro :","label-for":"Fecha retiro"}},[r("ValidationProvider",{attrs:{name:"Fecha-retiro ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{locale:"es-AR",type:"date",state:!a[0]&&(!!o||null)},model:{value:e.fecha_retiro,callback:function(t){e.fecha_retiro=t},expression:"fecha_retiro"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1),r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.guardarDatos()}}},[e._v("Guardar ")])],1)],1)],1)],1)],1)])},Sa=[],Ca={components:{},props:{estudio:{type:Object}},created:function(){},data:function(){return{retiro:null,fecha_retiro:(new Date).format("YYYY-MM-DD")}},methods:{guardarDatos:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.detailsExtraccion.validate();case 3:if(r=t.sent,!r){t.next=12;break}return a={estudio_id:e.estudio.id,extracionista:e.retiro,fecha_retiro:new Date(e.fecha_retiro),resourcetype:e.estudio.ultimo_estado.resourcetype},t.next=8,ke.actualizarUltimoEstado(a,e.estudio.ultimo_estado.id);case 8:o=t.sent,e.$root.$bvToast.toast("Se ingresaron los datos del retiro de la extraccion",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaEstudios"}),console.log(o);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),e.$root.$bvToast.toast("ocurrio un error mientras ingresaba los datos del retiro de extraccion",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()}},computed:{},mounted:function(){}},Da=Ca,Ta=Object(b["a"])(Da,Oa,Sa,!1,null,null,null),Ia=Ta.exports,Aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("b-alert",{attrs:{show:""}},[e._v("Esperando que se complete el lote para poder iniciar el procesamiento biotecnológico ")]),a("br"),a("div",[a("img",{staticClass:"rounded",staticStyle:{width:"60%"},attrs:{src:r("f1ad"),alt:"...",id:"imgLaboratorio"}})])],1)},qa=[],Fa={},La=Fa,Ma=Object(b["a"])(La,Aa,qa,!1,null,null,null),Na=Ma.exports,za=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("b-alert",{attrs:{show:""}},[e._v("El estudio está esperando que el medico informante cargue los resultados del estudio ")]),a("div",[a("img",{staticClass:"rounded",staticStyle:{width:"60%"},attrs:{src:r("e4a6"),alt:"...",id:"imgLaboratorio"}})])],1)},Va=[],Ua={},Ba=Ua,Ha=Object(b["a"])(Ba,za,Va,!1,null,null,null),Ya=Ha.exports,Ja=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("b-alert",{attrs:{show:""}},[e._v("El estudio está esperando que se completen los resultados que se ingresaran dentro de una url con el detalle ")]),a("br"),a("div",[a("img",{staticClass:"rounded",staticStyle:{width:"60%"},attrs:{src:r("e4a6"),alt:"...",id:"imgLaboratorio"}})])],1)},Za=[],Ga={},Qa=Ga,Xa=Object(b["a"])(Qa,Ja,Za,!1,null,null,null),Ka=Xa.exports,Wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("div",[a("b-card",{attrs:{header:"Estudio esperando ser entregado al medico derivante"}},[a("div",[a("b-button",{attrs:{title:"Descargar para enviar a medico derivante",variant:"outline-info"},on:{click:function(t){return e.bajarInforme()}}},[a("b-icon",{attrs:{icon:"share","aria-hidden":"true"}})],1)],1),a("br"),a("div",[a("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.siguienteEstado()}}},[e._v(" Finalizar estudio ")])],1)]),a("div",[a("img",{staticClass:"rounded",staticStyle:{width:"60%"},attrs:{src:r("4280"),alt:"...",id:"imgLaboratorio"}})])],1)])},eo=[],to={components:{},props:{estudio:{type:Object}},data:function(){return{fecha_entrega:new Date}},created:function(){console.log(this.estudio)},methods:{bajarInforme:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke.descargarInformeDeResultado(e.estudio.id);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},siguienteEstado:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={estudio_id:e.estudio.id,resourcetype:e.estudio.ultimo_estado.resourcetype,fecha_enviado:new Date},t.next=4,ke.actualizarUltimoEstado(r,e.estudio.ultimo_estado.id);case 4:a=t.sent,e.$root.$bvToast.toast("Se entrego el estudio al medico derivante y finalizo su ciclo",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),console.log(a),e.$router.push({name:"listaEstudios"}),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0),e.$root.$bvToast.toast("ocurrio un error mientras continuaba ",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}},computed:{},mounted:function(){}},ro=to,ao=Object(b["a"])(ro,Wa,eo,!1,null,null,null),oo=ao.exports,no=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("b-alert",{attrs:{show:""}},[e._v("El estudio fue entregado al medico derivante")]),a("div",[a("img",{staticClass:"rounded",staticStyle:{width:"60%"},attrs:{src:r("2bc1"),alt:"...",id:"imgLaboratorio"}})])],1)},io=[],so={components:{},props:{estudio:{type:Object}},data:function(){return{}},created:function(){},methods:{}},lo=so,co=Object(b["a"])(lo,no,io,!1,null,null,null),uo=co.exports,po=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("b-alert",{attrs:{show:"",variant:"info"}},[a("h4",[e._v("Esperando el resultado de su estudio")])]),a("br"),a("div",[a("img",{staticClass:"rounded",staticStyle:{width:"60%"},attrs:{src:r("2bc1"),alt:"...",id:"imgLaboratorio"}})])],1)},mo=[],bo={},fo=bo,vo=Object(b["a"])(fo,po,mo,!1,null,null,null),go=vo.exports,ho=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("div",[r("h4",[e._v("Resultados del informe")]),r("b-col",{attrs:{lg:"5",md:"7",sm:"10"}},[r("a",{attrs:{href:this.urlResultado,target:"_blank"}},[r("b-icon",{attrs:{icon:"link",variant:"info"}}),e._v("Click para Acceder a el informe!")],1)]),r("ValidationObserver",{ref:"detailsResultado"},[r("b-form-group",e._l(e.alerts,(function(t){return r("b-alert",{key:t.key,attrs:{dismissible:"",show:"",variant:t.variant}},[e._v(e._s(t.message))])})),1),r("b-row",[r("b-col",{attrs:{lg:"5",md:"7",sm:"10"}},[r("b-form-group",{attrs:{id:"Resuttado-label",label:"Resultado:","label-for":"Resultado"}},[r("ValidationProvider",{attrs:{name:"Resultado ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("b-form-input",{attrs:{placeholder:"Resultado",state:!a[0]&&(!!o||null)},model:{value:e.resultado.resultado,callback:function(t){e.$set(e.resultado,"resultado",t)},expression:"resultado.resultado"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1),r("b-card",{attrs:{header:"Informe del resultado"}},[r("b-row",[r("b-col",[r("b-form-group",{attrs:{id:"informe-label","label-for":"Informe del resultado"}},[r("ValidationProvider",{attrs:{name:"informe ",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.valid;return[r("vue-editor",{attrs:{state:!a[0]&&(!!o||null)},model:{value:e.resultado.informe,callback:function(t){e.$set(e.resultado,"informe",t)},expression:"resultado.informe"}}),e._l(a,(function(t){return r("b-form-invalid-feedback",{key:t.key},[e._v(" "+e._s(t)+" ")])}))]}}])})],1)],1)],1)],1),r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.guardarDatos()}}},[e._v("Guardar ")])],1)],1)],1)],1),r("b-col",{staticClass:"text-left"},[r("router-link",{attrs:{to:"/listaEstudiosEsperandoInforme"}},[r("b-icon",{attrs:{icon:"arrow-left-circle"}})],1)],1)],1)},_o=[],ko={components:{VueEditor:ne["a"]},props:{estudio:{type:Object},urlResultado:{type:String}},data:function(){return{alerts:[],resultado:{resultado:null,fecha_informe:(new Date).format("YYYY-MM-DD"),informe:null}}},methods:{resultadoUrl:function(){return this.urlResultado},guardarDatos:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.detailsResultado.validate();case 3:if(r=t.sent,!r){t.next=13;break}return a={estudio_id:e.estudio.id,resourcetype:e.estudio.ultimo_estado.resourcetype,fecha_informe:new Date,resultado:e.resultado.resultado,informe:e.resultado.informe},console.log(a),t.next=9,ke.actualizarUltimoEstado(a,e.estudio.ultimo_estado.id);case 9:o=t.sent,console.log(o),e.$root.$bvToast.toast("Se guardo de forma correcta el resultado del informe",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"listaEstudiosEsperandoInforme"});case 13:t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](0),console.log(t.t0),e.$root.$bvToast.toast("ocurrio un error mientras guardaba los resultados "+t.t0.response,{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()}},computed:{},mounted:function(){}},xo=ko,wo=Object(b["a"])(xo,ho,_o,!1,null,null,null),yo=wo.exports,Eo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[e.loading?r("div",[r("b-spinner")],1):r("div",[r("h4",[e._v("Listado de estudios esperando informe")]),r("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Buscar por nombre de paciente,medico derivante u diagnostico"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),r("b-input-group-append",[r("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Buscar")])],1)],1)],1),r("b-table",{attrs:{items:e.items,fields:e.fields,filter:e.filter,"current-page":e.currentPage,"per-page":e.perPage},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estados)",fn:function(t){return[e._v(" "+e._s(e.obtenerUltimoEstado(t.item))+" ")]}},{key:"cell(resultadoUrl)",fn:function(t){return[r("a",{attrs:{href:e.armarUrl(t.item),target:"_blank"}},[r("b-icon",{attrs:{icon:"link",variant:"info"}}),e._v("Click para Acceder!")],1)]}},{key:"cell(acciones)",fn:function(t){return[r("b-button",{attrs:{variant:"outline-white",title:"Cargar informe"},on:{click:function(r){return e.siguienteEstado(t.item)}}},[r("b-icon",{attrs:{icon:"arrow-right-square",variant:"info"}})],1)]}}])}),r("b-row",[r("b-col",[r("b-form-select",{staticStyle:{width:"150px"},attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1),r("b-col",[r("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),r("br")],1)],1)])},Po=[],Ro={name:"listaEstudios",components:{},props:{},data:function(){return{perPage:10,pageOptions:[4,10,15],filter:null,currentPage:1,loading:!0,totalRows:1,fields:[{key:"paciente.nombre",label:"Nombre",class:"text-center p2"},{key:"paciente.apellido",label:"Apellido",class:"text-center p2"},{key:"medico_derivante.apellido",label:"Medico derivante",class:"text-center p2"},{key:"diagnostico.nombre",label:"Diagnostico",class:"text-center p2"},{key:"tipo.nombre",label:"Tipo Estudio",class:"text-center p2"},{key:"estados",label:"Estado",class:"text-center p2"},{key:"resultadoUrl",label:"Resultado",class:"text-center p2"},{key:"acciones",label:"Acciones",class:"text-center p2"}],items:[]}},created:function(){},methods:{obtenerUltimoEstado:function(e){var t=e.ultimo_estado.resourcetype;return t=t.replace(/([a-z])([A-Z])/g,"$1 $2"),t=t.replace(/([A-Z])([A-Z][a-z])/g,"$1 $2"),t},armarUrl:function(e){return e.ultimo_estado.resultado_url},obtenerListaEstudios:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke.obtenerListaEstudiosParaInformes();case 3:r=t.sent,e.items=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},siguienteEstado:function(e){this.$router.push({name:"EsperandoInterpretacionDeResultadosInformante",params:{estudio:e,urlResultado:e.ultimo_estado.resultado_url}})}},mounted:function(){var e=this;C.a.all([this.obtenerListaEstudios()]).then((function(){e.totalRows=e.items.length,e.loading=!1})).catch((function(e){console.log(e)}))}},jo=Ro,$o=Object(b["a"])(jo,Eo,Po,!1,null,null,null),Oo=$o.exports,So=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[e.loading?r("div",[r("b-spinner")],1):r("div",[r("b-card",{attrs:{header:" Listado de Estudios esperando Lote para procesamiento biotecnológico"}},[r("b-table",{attrs:{items:e.estudios,fields:e.fields},scopedSlots:e._u([{key:"cell(fecha_alta)",fn:function(t){return[e._v(" "+e._s(e.obtenerFecha(t.item))+" ")]}}])}),r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("b-button",{attrs:{variant:"success",disabled:e.estudios.length<10},on:{click:function(t){return e.crearLote()}}},[e._v("Crear Lote ")])],1)],1)],1)],1)])},Co=[],Do="/lotes_api/",To={obtenerListaEstudiosEsperandoProcesamiento:function(){return D().get(Do+"estudios/")},crearLote:function(e){return D().post(Do+"lotes/",e)},obtenerLotes:function(){return D().get(Do+"lotes/")},cargarResultadoLote:function(e,t){return D().put(Do+"lotes/"+e+"/",t)}},Io={name:"ListaPacientes",components:{},props:{},data:function(){return{estudios:[],loading:!0,perPage:10,fields:[{key:"paciente.nombre",label:"Nombre",class:"text-center p2"},{key:"paciente.apellido",label:"Apellido",class:"text-center p2"},{key:"medico_derivante.apellido",label:"Medico derivante",class:"text-center p2"},{key:"diagnostico.nombre",label:"Diagnostico",class:"text-center p2"},{key:"tipo.nombre",label:"Tipo Estudio",class:"text-center p2"},{key:"fecha_alta",label:"Fecha Extraccion",class:"text-center p2"}],items:[]}},created:function(){},methods:{crearLote:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=[],a={},e.estudios.forEach((function(e){o=e.id,r.push(o)})),a.estudios=r,t.next=7,To.crearLote(a);case 7:e.$root.$bvToast.toast("se creo con exito el lote",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.$router.push({name:"cargarResultadoLote"}),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0),e.$root.$bvToast.toast("ocurrio un error mientras creaba el lote, por favor vuelva a intentar",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"danger"});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},obtenerFecha:function(e){var t=e.ultimo_estado.fecha;return t=new Date(t),t.format("DD-MM-YYYY")},obtenerListaEstudiosEsperandoProcesamiento:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,To.obtenerListaEstudiosEsperandoProcesamiento();case 3:r=t.sent,e.items=r.data,e.obtenerEstudios(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},obtenerEstudios:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0;try{e.items.forEach(function(){var t=Object(O["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,ke.obtenerEstudio(r);case 3:a=t.sent,e.estudios.push(a.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.ordenarEstudiosPorFecha()}catch(r){console.log(r)}finally{e.loading=!1}case 2:case"end":return t.stop()}}),t)})))()},ordenarEstudiosPorFecha:function(){this.estudios.sort((function(e,t){return new Date(e.ultimo_estado.fecha)>new Date(t.ultimo_estado.fecha)?1:new Date(e.ultimo_estado.fecha)<new Date(t.ultimo_estado.fecha)?-1:void 0}))}},mounted:function(){var e=this;C.a.all([this.obtenerListaEstudiosEsperandoProcesamiento()]).then((function(){e.totalRows=e.items.length})).catch((function(e){console.log(e)}))}},Ao=Io,qo=Object(b["a"])(Ao,So,Co,!1,null,null,null),Fo=qo.exports,Lo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("br"),r("h4",[e._v("Listado de Lotes generados")]),r("b-table",{attrs:{striped:"",hover:"",items:e.items,fields:e.fields,"show-empty":"","empty-text":"Todavia no hay lotes para que se cargen los resultados"},scopedSlots:e._u([{key:"cell(acciones)",fn:function(t){return[r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],attrs:{title:"URL",variant:"outline-success"},on:{click:function(r){return e.loteActual(t.item)}}},[e._v(" Cargar Resultado ")])]}}])}),r("div",[r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1),r("b-modal",{ref:"my-modal",attrs:{size:"xl",title:"Estudios del lote 1","ok-only":""}},[r("b-table",{attrs:{items:e.itemsEst,fields:e.fieldsEst}})],1),r("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",title:"Resultado",size:"xl"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[r("b-table",{attrs:{items:e.itemsEst,fields:e.fieldsEst},scopedSlots:e._u([{key:"cell(acciones)",fn:function(t){return[r("b-button",{attrs:{title:"Anular estudio por muestra insuficiente",variant:"outline-white"},on:{click:function(r){return e.anularEstudioMuestraInsuficiente(t.item.estudio)}}},[r("b-icon",{attrs:{icon:"x-circle",fill:"",variant:"danger"}})],1)]}}])}),r("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[r("b-form-group",{attrs:{label:"Url del resultado","label-for":"url-input","invalid-feedback":"el campo url del resultado es requerido",state:e.urlResultadostate}},[r("b-form-input",{attrs:{id:"url-input",state:e.urlResultadostate,required:""},model:{value:e.urlResultado,callback:function(t){e.urlResultado=t},expression:"urlResultado"}})],1)],1)],1)],1)},Mo=[],No=(r("4de4"),{name:"CargarResultadoLote",components:{},props:{},data:function(){return{idLoteActual:null,urlResultadostate:null,fechastate:null,urlResultado:null,fecha:null,alerts:[],perPage:4,itemsEst:[],fieldsEst:[{key:"estudio.paciente.nombre",label:"Nombre",class:"text-center p2"},{key:"estudio.paciente.apellido",label:"Apellido",class:"text-center p2"},{key:"estudio.medico_derivante.apellido",label:"Medico derivante",class:"text-center p2"},{key:"estudio.tipo.nombre",label:"Tipo Estudio",class:"text-center p2"},{key:"estudio.diagnostico.nombre",label:"Diagnostico",class:"text-center p2"},{key:"acciones",label:"Anular",class:"text-center p2"}],pageOptions:[4,10,15],filter:null,currentPage:1,totalRows:1,items:[],fields:[{key:"fecha",label:"Fecha Creacion",class:"text-center p2"},{key:"acciones",label:"Acciones",class:"text-center p2"}]}},created:function(){},methods:{loteActual:function(e){console.log(e),this.idLoteActual=e.id,this.itemsEst=e.estudios},eliminarEstudio:function(e){this.itemEst.pop(e)},checkFormValidity:function(){var e=this.$refs.form.checkValidity();return this.urlResultadostate=e,e},resetModal:function(){this.urlResultado="",this.urlResultadostate=null},handleOk:function(e){e.preventDefault(),this.handleSubmit()},handleSubmit:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.checkFormValidity()){t.next=3;break}return t.abrupt("return");case 3:return r={fecha:new Date,resultado:e.urlResultado,estudios:e.getIdEstudios()},t.next=6,To.cargarResultadoLote(e.idLoteActual,r);case 6:e.$nextTick((function(){e.$bvModal.hide("modal-prevent-closing")})),e.$root.$bvToast.toast("se guardo la Url del resultado con exito",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"success"}),e.obtenerLotes(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:if(e.checkFormValidity()){t.next=16;break}return t.abrupt("return");case 16:case"end":return t.stop()}}),t,null,[[0,11]])})))()},getIdEstudios:function(){var e=[];return this.itemsEst.forEach((function(t){e.push({estudio:{id:t.estudio.id}})})),e},verEstudios:function(e){this.itemsEst=e.estudios,this.$refs["my-modal"].show()},cargarResultado:function(){this.$refs["modalResultado"].show()},obtenerLotes:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,To.obtenerLotes();case 3:r=t.sent,e.items=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},anularEstudioMuestraInsuficiente:function(e){this.itemsEst=this.itemsEst.filter((function(t){return t.estudio.id!=e.id}))}},computed:{},mounted:function(){var e=this;C.a.all([this.obtenerLotes()]).then((function(){e.totalRows=e.items.length})).catch((function(e){console.log(e)}))}}),zo=No,Vo=Object(b["a"])(zo,Lo,Mo,!1,null,null,null),Uo=Vo.exports,Bo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("b-card",{attrs:{header:"Horarios de atencion-Rango de horario"}},[this.messageFechas?r("b-alert",{attrs:{show:"",variant:"danger"}},[e._v("Verifique que la fecha de fin sea mayor a la de inicio")]):e._e(),r("b-form",{staticClass:"form",attrs:{action:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[r("b-row",[r("b-col",[e._v(" Fecha Inicio"),r("br"),r("b-calendar",{attrs:{locale:"en-US",required:""},model:{value:e.fechaSeleccionada,callback:function(t){e.fechaSeleccionada=t},expression:"fechaSeleccionada"}})],1)],1),r("b-row",[r("b-col",{attrs:{lg:"3",md:"5",sm:"10"}},[r("b-form-group",{attrs:{id:"hsInicio-label",label:"Hora de inicio:","label-for":"hsInicio"}},[r("b-form-input",{attrs:{name:"hora_inicio",placeholder:"09:00",type:"time",required:""},model:{value:e.hsInicio,callback:function(t){e.hsInicio=t},expression:"hsInicio"}})],1)],1),r("b-col",{attrs:{lg:"3",md:"5",sm:"10"}},[r("b-form-group",{attrs:{id:"hsFin-label",label:"Hora de Fin:","label-for":"hsFin"}},[r("b-form-input",{attrs:{name:"hora_fin",placeholder:"13:00",min:e.hsInicio,type:"time",required:""},model:{value:e.hsFin,callback:function(t){e.hsFin=t},expression:"hsFin"}})],1)],1),r("b-col",{attrs:{lg:"3",md:"5",sm:"10"}},[r("b-form-group",{attrs:{id:"frecuencia-label",label:"Frecuencia en minutos:","label-for":"frecuencia"}},[r("b-form-input",{attrs:{type:"number",min:"5",max:"60",required:"",name:"frecuencia",placeholder:"15:00"},model:{value:e.frecuencia,callback:function(t){e.frecuencia=t},expression:"frecuencia"}})],1)],1)],1),r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("b-button",{attrs:{variant:"success",type:"submit"}},[e._v("Agregar ")])],1)],1)],1)],1),r("div",[r("b-table",{attrs:{striped:"",hover:"",fields:e.fields,items:e.items}})],1),r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.confirmarRangos()}}},[e._v("Confirmar ")])],1)],1)],1)},Ho=[],Yo={components:{},data:function(){return{hsFin:null,hsInicio:null,frecuencia:null,fechaSeleccionada:new Date,messageFechas:!1,alerts:[],fields:[{key:"hora_inicio",label:"inicio",class:"text-center p2"},{key:"hora_fin",label:"Fin",class:"text-center p2"},{key:"frecuencia",label:"Frecuencia",class:"text-center p2"}],items:[]}},methods:{onSubmit:function(){this.items.push({hora_inicio:this.hsInicio,hora_fin:this.hsFin,frecuencia:this.frecuencia})},confirmarRangos:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.armarHoraEnteros(),r={fecha_valido:new Date(e.fechaSeleccionada),rangos:e.armarHoraEnteros()},t.next=5,Ir.agregarRangoTurnos(r);case 5:e.$root.$bvToast.toast("Se configuraron los rangos de turnos para la fecha seleccionada ",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"info"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},armarHoraEnteros:function(){return this.items.forEach((function(e){e.hora_inicio=e.hora_inicio.substr(0,2),e.hora_fin=e.hora_fin.substr(0,2)})),this.items}}},Jo=Yo,Zo=Object(b["a"])(Jo,Bo,Ho,!1,null,null,null),Go=Zo.exports,Qo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("b-card",{attrs:{header:"Fechas de excepcion de turnos, no se daran turnos en estos dias"}},[r("b-row",[r("b-col",[r("b-calendar",{attrs:{locale:"en-US"},model:{value:e.fechaSeleccionada,callback:function(t){e.fechaSeleccionada=t},expression:"fechaSeleccionada"}})],1)],1),r("b-row",{staticClass:"pb-2"},[r("b-col",{staticClass:"text-center pt-3"},[r("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.agregarFechaExcepcion()}}},[e._v("Agregar ")])],1)],1),r("div",[r("b-table",{attrs:{items:e.items,fields:e.fields},scopedSlots:e._u([{key:"cell(acciones)",fn:function(t){return[r("b-button",{attrs:{title:"Borrar",variant:"outline-danger"},on:{click:function(r){return e.borrarFecha(t.item)}}},[e._v("X ")])]}}])})],1)],1)],1)},Xo=[],Ko={data:function(){return{fechaSeleccionada:null,fields:[{key:"fecha",label:"Fecha",class:"text-center p2"},{key:"acciones",label:"Acciones",class:"text-center p2"}],items:[]}},methods:{agregarFechaExcepcion:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={fecha:e.fechaSeleccionada},t.next=4,Ir.fechaSinTurnos(r);case 4:a=t.sent,console.log(a),e.$root.$bvToast.toast("Se seleciono que la fecha "+a.data.fecha+" no se daran turnos",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"info"}),e.obtenerFechasSinTurnos(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},obtenerFechasSinTurnos:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ir.obtenerFechasSinTurnos();case 3:r=t.sent,console.log(r),e.items=r.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},borrarFecha:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,console.log(e),r.next=4,Ir.eliminarFechaExcepcion(e.id);case 4:a=r.sent,t.$root.$bvToast.toast("Se volveran a dar turnos en la fecha "+e.fecha,{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"info"}),t.obtenerFechasSinTurnos(),console.log(a),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0);case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))()}},computed:{},mounted:function(){var e=this;C.a.all([this.obtenerFechasSinTurnos()]).then((function(){e.loading=!1})).catch((function(e){console.log(e)}))}},Wo=Ko,en=Object(b["a"])(Wo,Qo,Xo,!1,null,null,null),tn=en.exports,rn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("b-card",{attrs:{header:"Fechas de rango de turnos seleccionadas"}},[r("b-table",{attrs:{items:e.items,fields:e.fields},scopedSlots:e._u([{key:"cell(fecha_valido)",fn:function(t){return[e._v(" "+e._s(e.armarFecha(t.item))+" ")]}},{key:"cell(acciones)",fn:function(t){return[r("b-button",{attrs:{title:"Borrar",variant:"outline-danger"},on:{click:function(r){return e.borrarRango(t.item)}}},[e._v("X ")]),r("b-button",{attrs:{title:"Rangos",variant:"outline-info"},on:{click:function(r){return e.verRangos(t.item)}}},[e._v("Rangos ")])]}}])})],1),r("b-modal",{ref:"modalRangos",attrs:{"ok-only":"",title:"Rangos de fechas"}},[r("b-table",{attrs:{items:e.rangos,fields:e.fieldsRango}})],1)],1)},an=[],on={data:function(){return{fechaSeleccionada:null,fields:[{key:"fecha_valido",label:"Fecha",class:"text-center p2"},{key:"acciones",label:"Acciones",class:"text-center p2"}],fieldsRango:[{key:"hora_inicio",label:"inicio",class:"text-center p2"},{key:"hora_fin",label:"Fin",class:"text-center p2"},{key:"frecuencia",label:"Frecuencia",class:"text-center p2"}],items:[],rangos:[]}},methods:{armarFecha:function(e){return new Date(e.fecha_valido).format("DD-MM-YYYY")},verRangos:function(e){this.rangos=e.rangos,this.$refs["modalRangos"].show()},obtenerRangos:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ir.obtenerRangos();case 3:r=t.sent,console.log(r),e.items=r.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},borrarRango:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Ir.eliminarRango(e.id);case 3:t.$root.$bvToast.toast("Se elimino el rango ",{title:"Atencion!",toaster:"b-toaster-top-center",solid:!0,variant:"info"}),t.obtenerRangos(),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()}},computed:{},mounted:function(){var e=this;C.a.all([this.obtenerRangos()]).then((function(){e.loading=!1})).catch((function(e){console.log(e)}))}},nn=on,sn=Object(b["a"])(nn,rn,an,!1,null,null,null),ln=sn.exports,cn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("div",[r("h3",[e._v("Turnos Ocupados")]),e.loading?r("div",[r("b-spinner")],1):r("div",[r("vue-cal",{ref:"vuecal",staticClass:"vuecal--full-height-delete",staticStyle:{height:"600px"},attrs:{"active-view":"years","disable-views":["years","day"],"time-step":15,"disable-days":this.turnos,"snap-to-time":this.tiempoTurnos,locale:"es",events:e.getPacientes,"on-event-click":e.onEventClick},on:{"view-change":function(t){return e.logEvents("view-change",t)}}})],1),r("b-modal",{ref:"my-modal",attrs:{title:e.selectedEvent.title,"ok-only":""}},[r("div",[null!=e.selectedEvent.start?r("p",[e._v(" Turno Ocupado "+e._s(e.selectedEvent.start.format("DD/MM/YYYY"))+" ")]):e._e()]),r("p",{domProps:{innerHTML:e._s(e.selectedEvent.contentFull)}}),r("strong",[e._v("Detalles Paciente:")]),r("ul",[null!=e.selectedEvent.persona?r("li",[e._v(" Nombre: "+e._s(e.selectedEvent.persona.apellido)+" "+e._s(e.selectedEvent.persona.nombre)+" ")]):e._e(),null!=e.selectedEvent.persona?r("li",[e._v(" Telefono: "+e._s(e.selectedEvent.persona.telefono)+" ")]):e._e(),null!=e.selectedEvent.persona?r("li",[e._v(" Email: "+e._s(e.selectedEvent.persona.email)+" ")]):e._e()]),r("strong",[e._v("Detalles Turno:")]),r("ul",[null!=e.selectedEvent.start?r("li",[e._v(" Inicio "+e._s(e.selectedEvent.start&&e.selectedEvent.start.formatTime())+" ")]):e._e(),null!=e.selectedEvent.end?r("li",[e._v(" Fin: "+e._s(e.selectedEvent.end&&e.selectedEvent.end.formatTime())+" ")]):e._e()])])],1)])},un=[],dn={components:{VueCal:ha.a},props:{estudio:{type:Object}},data:function(){return{rangoCelda:{inicio:null,fin:null},tiempoTurnos:15,loading:!0,value:"",context:null,turnos:[],selectedEvent:{},paciente:null,pacienteSelected:null,pacientes:[]}},methods:{obtenerTurnos:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ir.obtenerTurnosOcupados();case 3:r=t.sent,e.turnos=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},logEvents:function(e,t){console.log(e,t)},onEventClick:function(e,t){console.log(e,t),this.selectedEvent=e,this.$refs["my-modal"].show(),t.stopPropagation()},cancelarTurno:function(e,t){var r=this;return Object(O["a"])(regeneratorRuntime.mark((function a(){var o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,o={inicio:e.toISOString(),fin:t.toISOString()},a.next=4,Ir.cancelarTurno(o);case 4:n=a.sent,r.obtenerTurnos(),console.log(n),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()}},computed:{getPacientes:function(){var e=this.turnos.map((function(e){return{start:new Date(e.inicio),end:new Date(e.fin),title:e.persona.apellido+" "+e.persona.nombre,persona:e.persona}}));return e}},mounted:function(){var e=this;C.a.all([this.obtenerTurnos()]).then((function(){e.loading=!1})).catch((function(e){console.log(e)}))}},pn=dn,mn=Object(b["a"])(pn,cn,un,!1,null,"0b8b2737",null),bn=mn.exports;a["default"].use(i["a"]);var fn=new i["a"]({mode:"history",base:"/",routes:[{path:"/",name:"/",component:k,meta:{requireAuth:!0},children:[{path:"/",name:"home",component:R},{path:"/paciente",component:ce,name:"paciente",props:!0},{path:"/configuradores",component:qe,name:"configuradores",props:!0},{path:"/listaConfiguradores",component:Se,name:"listaConfiguradores"},{path:"/medicoInformante",component:Ze,name:"medicoInformante",props:!0},{path:"/listaMedicoInformante",component:Ve,name:"listaMedicoInformante"},{path:"/medicoDerivante",component:it,name:"medicoDerivante",props:!0},{path:"/listaDerivante",component:et,name:"listaDerivante"},{path:"/empleado",component:Jt,name:"empleado",props:!0},{path:"/listaEmpleado",component:zt,name:"listaEmpleado"},{path:"/lista",component:fe,name:"listaPacientes"},{path:"/obraSocial",component:Wt,name:"obraSocial",props:!0},{path:"/listaObrasSociales",component:nr,name:"listaObrasSociales"},{path:"/templateConsentimiento",component:br,name:"editarTemplateConsentimiento"},{path:"/modoDeTrabajo",component:yr,name:"editarModoDeTrabajo"},{path:"/liquidacionesEstudios",component:Ot,name:"liquidacionesEstudios"},{path:"/liquidadoesEstudios",component:At,name:"liquidadoesEstudios"},{path:"/estudio",component:Or,name:"nuevoEstudio"},{path:"/listaEstudios",component:Ee,name:"listaEstudios"},{path:"/esperandoFactura",component:Br},{path:"/esperandoComprobantePago",component:Qr,name:"EsperandoComprobanteDePago",props:!0},{path:"/anuladoFaltaPago",component:ra,name:"AnuladorPorFaltaDePago"},{path:"/enviarConsentimientoInformado",component:la,name:"EnviarConsentimientoInformado",props:!0},{path:"/esperandoConsentimientoInformado",component:ba,name:"EsperandoConsentimientoInformado",props:!0},{path:"/esperandoSeleccionDeTurnoExtraccion",component:wa,name:"EsperandoSeleccionDeTurnoParaExtraccion",props:!0},{path:"/esperandoTomaDeMuestra",component:$a,name:"EsperandoTomaDeMuestra",props:!0},{path:"/esperandoRetiroExtraccion",component:Ia,name:"EsperandoRetiroDeExtaccion",props:!0},{path:"/EsperandoLoteDeMuestraParaProcesamientoBiotecnologico",component:Na,name:"EsperandoLoteDeMuestraParaProcesamientoBiotecnologico",props:!0},{path:"/EsperandoInterpretacionDeResultados",component:Ya,name:"EsperandoInterpretacionDeResultados",props:!0},{path:"/EsperandoProcesamientoDeLoteBiotecnologico",component:Ka,name:"EsperandoProcesamientoDeLoteBiotecnologico",props:!0},{path:"/EsperandoEntregaAMedicoDerivante",component:oo,name:"EsperandoEntregaAMedicoDerivante",props:!0},{path:"/EstadoVirtualEsperandoResultado",component:go,name:"EstadoVirtualEsperandoResultado",props:!0},{path:"/ResultadoDeEstudioEntregado",component:uo,name:"ResultadoDeEstudioEntregado",props:!0},{path:"/crearLote",component:Fo,name:"crearLote"},{path:"/cargarResultadoLote",component:Uo,name:"cargarResultadoLote"},{path:"/configurarTurnos",component:Go,name:"configurarTurnos"},{path:"/configurarFechasSinTurnos",component:tn,name:"configurarFechasSinTurnos"},{path:"/turnosOcupados",component:bn,name:"turnosOcupados"},{path:"/verRangosTurnos",component:ln,name:"verRangosTurnos"},{path:"/EsperandoInterpretacionDeResultadosInformante",component:yo,name:"EsperandoInterpretacionDeResultadosInformante",props:!0},{path:"/listaEstudiosEsperandoInforme",component:Oo,name:"listaEstudiosEsperandoInforme",props:!0},{path:"/detalleDeEstudio",component:Lr,name:"detalleDeEstudio",props:!0},{path:"/estadisticas",component:kt,name:"estadisticas"}]},{path:"/login",component:L,name:"Login"},{path:"/registrar",component:J,name:"registrar"},{path:"/cambiarClave",component:W,name:"cambiarClave",props:!0}]});fn.beforeEach((function(e,t,r){var a=e.matched.some((function(e){return e.meta.requireAuth}));a&&!window.localStorage.getItem("credenciales")?r("/login"):window.localStorage.getItem("credenciales")&&"Login"==e.name?r("/"):e.matched.length?r():r("/")}));var vn=fn,gn=r("5f5b"),hn=r("b1e0");r("f9e3"),r("2dd8");a["default"].use(gn["a"]),a["default"].use(hn["a"]);var _n=r("796a"),kn=r.n(_n),xn=r("7bb1");xn["c"].localize("ar",kn.a),a["default"].component("ValidationProvider",xn["b"]),a["default"].component("ValidationObserver",xn["a"]);var wn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},yn=[],En={name:"App",components:{}},Pn=En,Rn=(r("034f"),Object(b["a"])(Pn,wn,yn,!1,null,null,null)),jn=Rn.exports,$n=r("4a7a"),On=r.n($n),Sn=(r("6dfc"),r("8a15"));a["default"].component("v-select",On.a),a["default"].use(Sn["a"]),a["default"].config.productionTip=!1,new a["default"]({router:vn,store:n,render:function(e){return e(jn)}}).$mount("#app")},"587e":function(e,t,r){"use strict";r("5972")},5972:function(e,t,r){},"69f9":function(e,t,r){},8025:function(e,t,r){"use strict";r("9e0a")},"85ec":function(e,t,r){},"89ee":function(e,t,r){},9016:function(e,t,r){"use strict";r("89ee")},"9e0a":function(e,t,r){},c259:function(e,t,r){e.exports=r.p+"img/lab1.2fb8884a.png"},e19b:function(e,t,r){"use strict";r("69f9")},e4a6:function(e,t,r){e.exports=r.p+"img/cargandodatos.77cebcff.png"},f1ad:function(e,t,r){e.exports=r.p+"img/lotes.369ffdc6.png"},faa9:function(e,t,r){e.exports=r.p+"img/errordepago.f2acdaa2.png"},fb04:function(e,t,r){e.exports=r.p+"img/covid2.d9cb85bd.jpg"}});
//# sourceMappingURL=app.21b3504d.js.map